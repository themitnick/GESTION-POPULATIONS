import{$ as _,$a as o,$b as Ma,A as St,Aa as lt,Ab as nn,B as gr,Ba as b,Bb as ae,C as Lt,Ca as ta,Cb as ma,D as H,Da as ia,Db as pa,E as Zi,Ea as na,Eb as Be,F as ot,Fa as ra,Fb as Bt,G as vr,Ga as Ki,Gb as ha,H as Lo,Ha as q,Hb as fa,I as Uo,Ia as dt,Ib as Mt,J as Ho,Ja as B,Jb as ga,K as Re,Ka as de,Kb as Dt,L as br,La as Qe,Lb as va,M as le,Ma as oa,Mb as ut,N as $,Na as ue,Nb as ba,O as Se,Oa as Ut,Ob as ya,P as V,Pa as Xi,Pb as xa,Q as at,Qa as aa,Qb as qt,R as Bo,Ra as en,Rb as _a,S as G,Sa as Sr,Sb as $t,T as U,Ta as wr,Tb as Dr,U as A,Ua as tn,Ub as Ca,V as qo,Va as Ht,Vb as rn,W as $o,Wa as R,Wb as Ne,X as wt,Xa as T,Xb as Sa,Y as Te,Ya as ee,Yb as z,Z as S,Za as te,Zb as wa,_ as w,_a as I,_b as Ea,a as v,aa as E,ab as a,ac as Da,b as k,ba as ci,bb as p,bc as on,c as di,ca as we,cb as W,cc as an,d as Fo,da as Yi,db as Q,dc as Aa,e as No,ea as yr,eb as Et,f as Vo,fa as Ji,fb as P,g as _t,ga as Go,gb as g,h as hr,ha as st,hb as f,i as fr,ia as zo,ib as sa,j as Ue,ja as ze,jb as la,k as Y,ka as Fe,kb as da,l as Xe,la as Wo,lb as ua,m as se,ma as We,mb as hi,n as x,na as Qo,nb as Er,o as rt,oa as xr,ob as O,p as ko,pa as Zo,pb as l,q as Po,qa as mi,qb as y,r as N,ra as _r,rb as M,s as Wi,sa as Cr,sb as ce,t as be,ta as Yo,tb as ca,u as ui,ua as Jo,ub as ie,v as Oo,va as Ko,vb as ne,w as Qi,wa as Xo,wb as re,x as jo,xa as u,xb as Ee,y as He,ya as pi,yb as Mr,z as Ct,za as ea,zb as J}from"./chunk-NUAWADXJ.js";var ln=new G(""),Fr=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,s){return this._findPluginFor(n).addEventListener(e,n,r,s)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new $(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(U(ln),U(Ut))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),fi=class{_doc;constructor(t){this._doc=t}manager},Ar="ng-app-id";function Ia(i){for(let t of i)t.remove()}function Ra(i,t){let e=t.createElement("style");return e.textContent=i,e}function El(i,t,e,n){let r=i.head?.querySelectorAll(`style[${Ar}="${t}"],link[${Ar}="${t}"]`);if(r)for(let s of r)s.removeAttribute(Ar),s instanceof HTMLLinkElement?n.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Rr(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Nr=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,r,s={}){this.doc=e,this.appId=n,this.nonce=r,El(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Ra);n?.forEach(r=>this.addUsage(r,this.external,Rr))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let s=n.get(e);s?s.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(d=>this.addElement(d,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Ia(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ia(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Ra(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Rr(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(U(we),U(xr),U(_r,8),U(mi))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Ir={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vr=/%COMP%/g;var Fa="%COMP%",Ml=`_nghost-${Fa}`,Dl=`_ngcontent-${Fa}`,Al=!0,Il=new G("",{providedIn:"root",factory:()=>Al});function Rl(i){return Dl.replace(Vr,i)}function Tl(i){return Ml.replace(Vr,i)}function Na(i,t){return t.map(e=>e.replace(Vr,i))}var kr=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,s,d,c,m,h=null,D=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=d,this.platformId=c,this.ngZone=m,this.nonce=h,this.tracingService=D,this.platformIsServer=!1,this.defaultRenderer=new gi(e,d,m,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,n);return r instanceof sn?r.applyToHost(e):r instanceof vi&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,s=r.get(n.id);if(!s){let d=this.doc,c=this.ngZone,m=this.eventManager,h=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,j=this.platformIsServer,X=this.tracingService;switch(n.encapsulation){case Cr.Emulated:s=new sn(m,h,n,this.appId,D,d,c,j,X);break;case Cr.ShadowDom:return new Tr(m,h,e,n,d,c,this.nonce,j,X);default:s=new vi(m,h,n,D,d,c,j,X);break}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(U(Fr),U(Nr),U(xr),U(Il),U(we),U(mi),U(Ut),U(_r),U(oa,8))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),gi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,s){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ir[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Ta(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Ta(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new $(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let s=Ir[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Ir[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(pi.DashCase|pi.Important)?t.style.setProperty(e,n,r&pi.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&pi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=ut().getGlobalEventTarget(this.doc,t),!t))throw new $(5102,!1);let s=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Ta(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Tr=class extends gi{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,s,d,c,m,h){super(t,s,d,m,h),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let D=r.styles;D=Na(r.id,D);for(let X of D){let fe=document.createElement("style");c&&fe.setAttribute("nonce",c),fe.textContent=X,this.shadowRoot.appendChild(fe)}let j=r.getExternalStyles?.();if(j)for(let X of j){let fe=Rr(X,s);c&&fe.setAttribute("nonce",c),this.shadowRoot.appendChild(fe)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vi=class extends gi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,s,d,c,m,h){super(t,s,d,c,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let D=n.styles;this.styles=h?Na(h,D):D,this.styleUrls=n.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sn=class extends vi{contentAttr;hostAttr;constructor(t,e,n,r,s,d,c,m,h){let D=r+"-"+n.id;super(t,e,n,s,d,c,m,h,D),this.contentAttr=Rl(D),this.hostAttr=Tl(D)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var dn=class i extends ya{supportsDOMEvents=!0;static makeCurrent(){ba(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Fl();return e==null?null:Nl(e)}resetBaseElement(){bi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return wa(document.cookie,t)}},bi=null;function Fl(){return bi=bi||document.head.querySelector("base"),bi?bi.getAttribute("href"):null}function Nl(i){return new URL(i,document.baseURI).pathname}var Vl=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),ka=(()=>{class i extends fi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,s){return e.addEventListener(n,r,s),()=>this.removeEventListener(e,n,r,s)}removeEventListener(e,n,r,s){return e.removeEventListener(n,r,s)}static \u0275fac=function(n){return new(n||i)(U(we))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Va=["alt","control","meta","shift"],kl={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pl={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Pa=(()=>{class i extends fi{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,s){let d=i.parseEventName(n),c=i.eventCallback(d.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ut().onAndCancel(e,d.domEventName,c,s))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let s=i._normalizeKey(n.pop()),d="",c=n.indexOf("code");if(c>-1&&(n.splice(c,1),d="code."),Va.forEach(h=>{let D=n.indexOf(h);D>-1&&(n.splice(D,1),d+=h+".")}),d+=s,n.length!=0||s.length===0)return null;let m={};return m.domEventName=r,m.fullKey=d,m}static matchEventFullKeyCode(e,n){let r=kl[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Va.forEach(d=>{if(d!==r){let c=Pl[d];c(e)&&(s+=d+".")}}),s+=r,s===n)}static eventCallback(e,n,r){return s=>{i.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(U(we))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function Pr(i,t){let e=v({rootComponent:i},Ol(t));return ga(e)}function Ol(i){return{appProviders:[...Bl,...i?.providers??[]],platformProviders:Hl}}function jl(){dn.makeCurrent()}function Ll(){return new yr}function Ul(){return Qo(document),document}var Hl=[{provide:mi,useValue:Ma},{provide:Zo,useValue:jl,multi:!0},{provide:we,useFactory:Ul}];var Bl=[{provide:$o,useValue:"root"},{provide:yr,useFactory:Ll},{provide:ln,useClass:ka,multi:!0,deps:[we]},{provide:ln,useClass:Pa,multi:!0,deps:[we]},kr,Nr,Fr,{provide:ea,useExisting:kr},{provide:Ea,useClass:Vl},[]];var Oa=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(U(we))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var F="primary",Ti=Symbol("RouteTitle"),Hr=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Rt(i){return new Hr(i)}function Ga(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let s=0;s<n.length;s++){let d=n[s],c=i[s];if(d[0]===":")r[d.substring(1)]=c;else if(d!==c.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function $l(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Ze(i[e],t[e]))return!1;return!0}function Ze(i,t){let e=i?Br(i):void 0,n=t?Br(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!za(i[r],t[r]))return!1;return!0}function Br(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function za(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,s)=>n[s]===r)}else return i===t}function Wa(i){return i.length>0?i[i.length-1]:null}function et(i){return ko(i)?i:en(i)?se(Promise.resolve(i)):x(i)}var Gl={exact:Za,subset:Ya},Qa={exact:zl,subset:Wl,ignored:()=>!0};function ja(i,t,e){return Gl[e.paths](i.root,t.root,e.matrixParams)&&Qa[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function zl(i,t){return Ze(i,t)}function Za(i,t,e){if(!At(i.segments,t.segments)||!mn(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!Za(i.children[n],t.children[n],e))return!1;return!0}function Wl(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>za(i[e],t[e]))}function Ya(i,t,e){return Ja(i,t,t.segments,e)}function Ja(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!At(r,e)||t.hasChildren()||!mn(r,e,n))}else if(i.segments.length===e.length){if(!At(i.segments,e)||!mn(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!Ya(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!At(i.segments,r)||!mn(i.segments,r,n)||!i.children[F]?!1:Ja(i.children[F],t,s,n)}}function mn(i,t,e){return t.every((n,r)=>Qa[e](i[r].parameters,n.parameters))}var Je=class{root;queryParams;fragment;_queryParamMap;constructor(t=new L([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Rt(this.queryParams),this._queryParamMap}toString(){return Yl.serialize(this)}},L=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pn(this)}},ct=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Rt(this.parameters),this._parameterMap}toString(){return Xa(this)}};function Ql(i,t){return At(i,t)&&i.every((e,n)=>Ze(e.parameters,t[n].parameters))}function At(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function Zl(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===F&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==F&&(e=e.concat(t(r,n)))}),e}var Tt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>new mt,providedIn:"root"})}return i})(),mt=class{parse(t){let e=new $r(t);return new Je(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${yi(t.root,!0)}`,n=Xl(t.queryParams),r=typeof t.fragment=="string"?`#${Jl(t.fragment)}`:"";return`${e}${n}${r}`}},Yl=new mt;function pn(i){return i.segments.map(t=>Xa(t)).join("/")}function yi(i,t){if(!i.hasChildren())return pn(i);if(t){let e=i.children[F]?yi(i.children[F],!1):"",n=[];return Object.entries(i.children).forEach(([r,s])=>{r!==F&&n.push(`${r}:${yi(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Zl(i,(n,r)=>r===F?[yi(i.children[F],!1)]:[`${r}:${yi(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[F]!=null?`${pn(i)}/${e[0]}`:`${pn(i)}/(${e.join("//")})`}}function Ka(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(i){return Ka(i).replace(/%3B/gi,";")}function Jl(i){return encodeURI(i)}function qr(i){return Ka(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(i){return decodeURIComponent(i)}function La(i){return hn(i.replace(/\+/g,"%20"))}function Xa(i){return`${qr(i.path)}${Kl(i.parameters)}`}function Kl(i){return Object.entries(i).map(([t,e])=>`;${qr(t)}=${qr(e)}`).join("")}function Xl(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${un(e)}=${un(r)}`).join("&"):`${un(e)}=${un(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var ed=/^[^\/()?;#]+/;function Or(i){let t=i.match(ed);return t?t[0]:""}var td=/^[^\/()?;=#]+/;function id(i){let t=i.match(td);return t?t[0]:""}var nd=/^[^=?&#]+/;function rd(i){let t=i.match(nd);return t?t[0]:""}var od=/^[^&#]+/;function ad(i){let t=i.match(od);return t?t[0]:""}var $r=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new L([],{}):new L([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[F]=new L(t,e)),n}parseSegment(){let t=Or(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new ct(hn(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=id(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Or(this.remaining);r&&(n=r,this.capture(n))}t[hn(e)]=hn(n)}parseQueryParam(t){let e=rd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let d=ad(this.remaining);d&&(n=d,this.capture(n))}let r=La(e),s=La(n);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Or(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=F);let d=this.parseChildren();e[s]=Object.keys(d).length===1?d[F]:new L([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}};function es(i){return i.segments.length>0?new L([],{[F]:i}):i}function ts(i){let t={};for(let[n,r]of Object.entries(i.children)){let s=ts(r);if(n===F&&s.segments.length===0&&s.hasChildren())for(let[d,c]of Object.entries(s.children))t[d]=c;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let e=new L(i.segments,t);return sd(e)}function sd(i){if(i.numberOfChildren===1&&i.children[F]){let t=i.children[F];return new L(i.segments.concat(t.segments),t.children)}return i}function pt(i){return i instanceof Je}function is(i,t,e=null,n=null){let r=ns(i);return rs(r,t,e,n)}function ns(i){let t;function e(s){let d={};for(let m of s.children){let h=e(m);d[m.outlet]=h}let c=new L(s.url,d);return s===i&&(t=c),c}let n=e(i.root),r=es(n);return t??r}function rs(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return jr(r,r,r,e,n);let s=ld(t);if(s.toRoot())return jr(r,r,new L([],{}),e,n);let d=dd(s,r,i),c=d.processChildren?_i(d.segmentGroup,d.index,s.commands):as(d.segmentGroup,d.index,s.commands);return jr(r,d.segmentGroup,c,e,n)}function fn(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Si(i){return typeof i=="object"&&i!=null&&i.outlets}function jr(i,t,e,n,r){let s={};n&&Object.entries(n).forEach(([m,h])=>{s[m]=Array.isArray(h)?h.map(D=>`${D}`):`${h}`});let d;i===t?d=e:d=os(i,t,e);let c=es(ts(d));return new Je(c,s,r)}function os(i,t,e){let n={};return Object.entries(i.children).forEach(([r,s])=>{s===t?n[r]=e:n[r]=os(s,t,e)}),new L(i.segments,n)}var gn=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fn(n[0]))throw new $(4003,!1);let r=n.find(Si);if(r&&r!==Wa(n))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ld(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new gn(!0,0,i);let t=0,e=!1,n=i.reduce((r,s,d)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([m,h])=>{c[m]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:d===0?(s.split("/").forEach((c,m)=>{m==0&&c==="."||(m==0&&c===""?e=!0:c===".."?t++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new gn(e,t,n)}var Wt=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function dd(i,t,e){if(i.isAbsolute)return new Wt(t,!0,0);if(!e)return new Wt(t,!1,NaN);if(e.parent===null)return new Wt(e,!0,0);let n=fn(i.commands[0])?0:1,r=e.segments.length-1+n;return ud(e,r,i.numberOfDoubleDots)}function ud(i,t,e){let n=i,r=t,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new $(4005,!1);r=n.segments.length}return new Wt(n,!1,r-s)}function cd(i){return Si(i[0])?i[0].outlets:{[F]:i}}function as(i,t,e){if(i??=new L([],{}),i.segments.length===0&&i.hasChildren())return _i(i,t,e);let n=md(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let s=new L(i.segments.slice(0,n.pathIndex),{});return s.children[F]=new L(i.segments.slice(n.pathIndex),i.children),_i(s,0,r)}else return n.match&&r.length===0?new L(i.segments,{}):n.match&&!i.hasChildren()?Gr(i,t,e):n.match?_i(i,0,r):Gr(i,t,e)}function _i(i,t,e){if(e.length===0)return new L(i.segments,{});{let n=cd(e),r={};if(Object.keys(n).some(s=>s!==F)&&i.children[F]&&i.numberOfChildren===1&&i.children[F].segments.length===0){let s=_i(i.children[F],t,e);return new L(i.segments,s.children)}return Object.entries(n).forEach(([s,d])=>{typeof d=="string"&&(d=[d]),d!==null&&(r[s]=as(i.children[s],t,d))}),Object.entries(i.children).forEach(([s,d])=>{n[s]===void 0&&(r[s]=d)}),new L(i.segments,r)}}function md(i,t,e){let n=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return s;let d=i.segments[r],c=e[n];if(Si(c))break;let m=`${c}`,h=n<e.length-1?e[n+1]:null;if(r>0&&m===void 0)break;if(m&&h&&typeof h=="object"&&h.outlets===void 0){if(!Ha(m,h,d))return s;n+=2}else{if(!Ha(m,{},d))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Gr(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(Si(s)){let m=pd(s.outlets);return new L(n,m)}if(r===0&&fn(e[0])){let m=i.segments[t];n.push(new ct(m.path,Ua(e[0]))),r++;continue}let d=Si(s)?s.outlets[F]:`${s}`,c=r<e.length-1?e[r+1]:null;d&&c&&fn(c)?(n.push(new ct(d,Ua(c))),r+=2):(n.push(new ct(d,{})),r++)}return new L(n,{})}function pd(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=Gr(new L([],{}),0,n))}),t}function Ua(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function Ha(i,t,e){return i==e.path&&Ze(t,e.parameters)}var Qt="imperative",oe=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(oe||{}),De=class{id;url;constructor(t,e){this.id=t,this.url=e}},ht=class extends De{type=oe.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ve=class extends De{urlAfterRedirects;type=oe.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ge=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i[i.Aborted=4]="Aborted",i}(ge||{}),Yt=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Yt||{}),Ye=class extends De{reason;code;type=oe.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ke=class extends De{reason;code;type=oe.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},Jt=class extends De{error;target;type=oe.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wi=class extends De{urlAfterRedirects;state;type=oe.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vn=class extends De{urlAfterRedirects;state;type=oe.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bn=class extends De{urlAfterRedirects;state;shouldActivate;type=oe.GuardsCheckEnd;constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yn=class extends De{urlAfterRedirects;state;type=oe.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xn=class extends De{urlAfterRedirects;state;type=oe.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_n=class{route;type=oe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cn=class{route;type=oe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sn=class{snapshot;type=oe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wn=class{snapshot;type=oe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},En=class{snapshot;type=oe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mn=class{snapshot;type=oe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kt=class{routerEvent;position;anchor;type=oe.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ei=class{},Xt=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function hd(i){return!(i instanceof Ei)&&!(i instanceof Xt)}function fd(i,t){return i.providers&&!i._injector&&(i._injector=Ki(i.providers,t,`Route: ${i.path}`)),i._injector??t}function qe(i){return i.outlet||F}function gd(i,t){let e=i.filter(n=>qe(n)===t);return e.push(...i.filter(n=>qe(n)!==t)),e}function ii(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Dn=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ii(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ft(this.rootInjector)}},Ft=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Dn(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(U(wt))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),An=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=zr(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=zr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Wr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Wr(t,this._root).map(e=>e.value)}};function zr(i,t){if(i===t.value)return t;for(let e of t.children){let n=zr(i,e);if(n)return n}return null}function Wr(i,t){if(i===t.value)return[t];for(let e of t.children){let n=Wr(i,e);if(n.length)return n.unshift(t),n}return[]}var Me=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function zt(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Mi=class extends An{snapshot;constructor(t,e){super(t),this.snapshot=e,to(this,t)}toString(){return this.snapshot.toString()}};function ss(i){let t=vd(i),e=new Y([new ct("",{})]),n=new Y({}),r=new Y({}),s=new Y({}),d=new Y(""),c=new Ve(e,n,s,d,r,F,i,t.root);return c.snapshot=t.root,new Mi(new Me(c,[]),t)}function vd(i){let t={},e={},n={},r="",s=new It([],t,n,r,e,F,i,null,{});return new Di("",new Me(s,[]))}var Ve=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,s,d,c,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=d,this.component=c,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(N(h=>h[Ti]))??x(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(t=>Rt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(t=>Rt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function In(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:v(v({},t.params),i.params),data:v(v({},t.data),i.data),resolve:v(v(v(v({},i.data),t.data),r?.data),i._resolvedData)}:n={params:v({},i.params),data:v({},i.data),resolve:v(v({},i.data),i._resolvedData??{})},r&&ds(r)&&(n.resolve[Ti]=r.title),n}var It=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ti]}constructor(t,e,n,r,s,d,c,m,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=d,this.component=c,this.routeConfig=m,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Di=class extends An{url;constructor(t,e){super(e),this.url=t,to(this,e)}toString(){return ls(this._root)}};function to(i,t){t.value._routerState=i,t.children.forEach(e=>to(i,e))}function ls(i){let t=i.children.length>0?` { ${i.children.map(ls).join(", ")} } `:"";return`${i.value}${t}`}function Lr(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ze(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Ze(t.params,e.params)||i.paramsSubject.next(e.params),$l(t.url,e.url)||i.urlSubject.next(e.url),Ze(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Qr(i,t){let e=Ze(i.params,t.params)&&Ql(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||Qr(i.parent,t.parent))}function ds(i){return typeof i.title=="string"||i.title===null}var us=new G(""),Fi=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=F;activateEvents=new ue;deactivateEvents=new ue;attachEvents=new ue;detachEvents=new ue;routerOutletData=fa(void 0);parentContexts=A(Ft);location=A(ia);changeDetector=A(Mt);inputBinder=A(Ni,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=e;let r=this.location,d=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,m=new Zr(e,c,r.injector,this.routerOutletData);this.activated=r.createComponent(d,{index:r.length,injector:m,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=B({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ze]})}return i})(),Zr=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===Ve?this.route:t===Ft?this.childContexts:t===us?this.outletData:this.parent.get(t,e)}},Ni=new G(""),io=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=Wi([n.queryParams,n.params,n.data]).pipe(Re(([s,d,c],m)=>(c=v(v(v({},s),d),c),m===0?x(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let d=va(n.component);if(!d){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of d.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),no=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=q({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&p(0,"router-outlet")},dependencies:[Fi],encapsulation:2})}return i})();function ro(i){let t=i.children&&i.children.map(ro),e=t?k(v({},i),{children:t}):v({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==F&&(e.component=no),e}function bd(i,t,e){let n=Ai(i,t._root,e?e._root:void 0);return new Mi(n,t)}function Ai(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=yd(i,t,e);return new Me(n,r)}else{if(i.shouldAttach(t.value)){let s=i.retrieve(t.value);if(s!==null){let d=s.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(c=>Ai(i,c)),d}}let n=xd(t.value),r=t.children.map(s=>Ai(i,s));return new Me(n,r)}}function yd(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Ai(i,n,r);return Ai(i,n)})}function xd(i){return new Ve(new Y(i.url),new Y(i.params),new Y(i.queryParams),new Y(i.fragment),new Y(i.data),i.outlet,i.component,i)}var ei=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},cs="ngNavigationCancelingError";function Rn(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=pt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ms(!1,ge.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function ms(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[cs]=!0,e.cancellationCode=t,e}function _d(i){return ps(i)&&pt(i.url)}function ps(i){return!!i&&i[cs]}var Cd=(i,t,e,n)=>N(r=>(new Yr(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),Yr=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Lr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=zt(e);t.children.forEach(s=>{let d=s.value.outlet;this.deactivateRoutes(s,r[d],n),delete r[d]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let d=n.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=zt(t);for(let d of Object.values(s))this.deactivateRouteAndItsChildren(d,r);if(n&&n.outlet){let d=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=zt(t);for(let d of Object.values(s))this.deactivateRouteAndItsChildren(d,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=zt(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new Mn(s.value.snapshot))}),t.children.length&&this.forwardEvent(new wn(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(Lr(r),r===s)if(r.component){let d=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let d=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(c.contexts),d.attachRef=c.componentRef,d.route=c.route.value,d.outlet&&d.outlet.attach(c.componentRef,c.route.value),Lr(c.route.value),this.activateChildRoutes(t,null,d.children)}else d.attachRef=null,d.route=r,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}else this.activateChildRoutes(t,null,n)}},Tn=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Zt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Sd(i,t,e){let n=i._root,r=t?t._root:null;return xi(n,r,e,[n.value])}function wd(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function ni(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!Bo(i)?i:t.get(i):n}function xi(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=zt(t);return i.children.forEach(d=>{Ed(d,s[d.value.outlet],e,n.concat([d.value]),r),delete s[d.value.outlet]}),Object.entries(s).forEach(([d,c])=>Ci(c,e.getContext(d),r)),r}function Ed(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,d=t?t.value:null,c=e?e.getContext(i.value.outlet):null;if(d&&s.routeConfig===d.routeConfig){let m=Md(d,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Tn(n)):(s.data=d.data,s._resolvedData=d._resolvedData),s.component?xi(i,t,c?c.children:null,n,r):xi(i,t,e,n,r),m&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Zt(c.outlet.component,d))}else d&&Ci(t,c,r),r.canActivateChecks.push(new Tn(n)),s.component?xi(i,null,c?c.children:null,n,r):xi(i,null,e,n,r);return r}function Md(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!At(i.url,t.url);case"pathParamsOrQueryParamsChange":return!At(i.url,t.url)||!Ze(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qr(i,t)||!Ze(i.queryParams,t.queryParams);case"paramsChange":default:return!Qr(i,t)}}function Ci(i,t,e){let n=zt(i),r=i.value;Object.entries(n).forEach(([s,d])=>{r.component?t?Ci(d,t.children.getContext(s),e):Ci(d,null,e):Ci(d,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Zt(t.outlet.component,r)):e.canDeactivateChecks.push(new Zt(null,r)):e.canDeactivateChecks.push(new Zt(null,r))}function Vi(i){return typeof i=="function"}function Dd(i){return typeof i=="boolean"}function Ad(i){return i&&Vi(i.canLoad)}function Id(i){return i&&Vi(i.canActivate)}function Rd(i){return i&&Vi(i.canActivateChild)}function Td(i){return i&&Vi(i.canDeactivate)}function Fd(i){return i&&Vi(i.canMatch)}function hs(i){return i instanceof Po||i?.name==="EmptyError"}var cn=Symbol("INITIAL_VALUE");function ti(){return Re(i=>Wi(i.map(t=>t.pipe(Lt(1),Ho(cn)))).pipe(N(t=>{for(let e of t)if(e!==!0){if(e===cn)return cn;if(e===!1||Nd(e))return e}return!0}),He(t=>t!==cn),Lt(1)))}function Nd(i){return pt(i)||i instanceof ei}function Vd(i,t){return be(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:d}}=e;return d.length===0&&s.length===0?x(k(v({},e),{guardsResult:!0})):kd(d,n,r,i).pipe(be(c=>c&&Dd(c)?Pd(n,s,i,t):x(c)),N(c=>k(v({},e),{guardsResult:c})))})}function kd(i,t,e,n){return se(i).pipe(be(r=>Hd(r.component,r.route,e,t,n)),ot(r=>r!==!0,!0))}function Pd(i,t,e,n){return se(t).pipe(St(r=>Oo(jd(r.route.parent,n),Od(r.route,n),Ud(i,r.path,e),Ld(i,r.route,e))),ot(r=>r!==!0,!0))}function Od(i,t){return i!==null&&t&&t(new En(i)),x(!0)}function jd(i,t){return i!==null&&t&&t(new Sn(i)),x(!0)}function Ld(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return x(!0);let r=n.map(s=>Qi(()=>{let d=ii(t)??e,c=ni(s,d),m=Id(c)?c.canActivate(t,i):Te(d,()=>c(t,i));return et(m).pipe(ot())}));return x(r).pipe(ti())}function Ud(i,t,e){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(d=>wd(d)).filter(d=>d!==null).map(d=>Qi(()=>{let c=d.guards.map(m=>{let h=ii(d.node)??e,D=ni(m,h),j=Rd(D)?D.canActivateChild(n,i):Te(h,()=>D(n,i));return et(j).pipe(ot())});return x(c).pipe(ti())}));return x(s).pipe(ti())}function Hd(i,t,e,n,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return x(!0);let d=s.map(c=>{let m=ii(t)??r,h=ni(c,m),D=Td(h)?h.canDeactivate(i,t,e,n):Te(m,()=>h(i,t,e,n));return et(D).pipe(ot())});return x(d).pipe(ti())}function Bd(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return x(!0);let s=r.map(d=>{let c=ni(d,i),m=Ad(c)?c.canLoad(t,e):Te(i,()=>c(t,e));return et(m)});return x(s).pipe(ti(),fs(n))}function fs(i){return Vo(le(t=>{if(typeof t!="boolean")throw Rn(i,t)}),N(t=>t===!0))}function qd(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return x(!0);let s=r.map(d=>{let c=ni(d,i),m=Fd(c)?c.canMatch(t,e):Te(i,()=>c(t,e));return et(m)});return x(s).pipe(ti(),fs(n))}var Ii=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ri=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Gt(i){return rt(new Ii(i))}function $d(i){return rt(new $(4e3,!1))}function Gd(i){return rt(ms(!1,ge.GuardRejected))}var Jr=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return x(n);if(r.numberOfChildren>1||!r.children[F])return $d(`${t.redirectTo}`);r=r.children[F]}}applyRedirectCommands(t,e,n,r,s){return zd(e,r,s).pipe(N(d=>{if(d instanceof Je)throw new Ri(d);let c=this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),t,n);if(d[0]==="/")throw new Ri(c);return c}))}applyRedirectCreateUrlTree(t,e,n,r){let s=this.createSegmentGroup(t,e.root,n,r);return new Je(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);n[r]=e[c]}else n[r]=s}),n}createSegmentGroup(t,e,n,r){let s=this.createSegments(t,e.segments,n,r),d={};return Object.entries(e.children).forEach(([c,m])=>{d[c]=this.createSegmentGroup(t,m,n,r)}),new L(s,d)}createSegments(t,e,n,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}};function zd(i,t,e){if(typeof i=="string")return x(i);let n=i,{queryParams:r,fragment:s,routeConfig:d,url:c,outlet:m,params:h,data:D,title:j}=t;return et(Te(e,()=>n({params:h,data:D,queryParams:r,fragment:s,routeConfig:d,url:c,outlet:m,title:j})))}var Kr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wd(i,t,e,n,r){let s=gs(i,t,e);return s.matched?(n=fd(t,n),qd(n,t,e,r).pipe(N(d=>d===!0?s:v({},Kr)))):x(s)}function gs(i,t,e){if(t.path==="**")return Qd(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?v({},Kr):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Ga)(e,i,t);if(!r)return v({},Kr);let s={};Object.entries(r.posParams??{}).forEach(([c,m])=>{s[c]=m.path});let d=r.consumed.length>0?v(v({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function Qd(i){return{matched:!0,parameters:i.length>0?Wa(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Ba(i,t,e,n){return e.length>0&&Jd(i,e,n)?{segmentGroup:new L(t,Yd(n,new L(e,i.children))),slicedSegments:[]}:e.length===0&&Kd(i,e,n)?{segmentGroup:new L(i.segments,Zd(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new L(i.segments,i.children),slicedSegments:e}}function Zd(i,t,e,n){let r={};for(let s of e)if(Nn(i,t,s)&&!n[qe(s)]){let d=new L([],{});r[qe(s)]=d}return v(v({},n),r)}function Yd(i,t){let e={};e[F]=t;for(let n of i)if(n.path===""&&qe(n)!==F){let r=new L([],{});e[qe(n)]=r}return e}function Jd(i,t,e){return e.some(n=>Nn(i,t,n)&&qe(n)!==F)}function Kd(i,t,e){return e.some(n=>Nn(i,t,n))}function Nn(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Xd(i,t,e){return t.length===0&&!i.children[e]}var Xr=class{};function eu(i,t,e,n,r,s,d="emptyOnly"){return new eo(i,t,e,n,r,d,s).recognize()}var tu=31,eo=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,s,d,c){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=d,this.urlSerializer=c,this.applyRedirects=new Jr(this.urlSerializer,this.urlTree)}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ba(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(N(({children:e,rootSnapshot:n})=>{let r=new Me(n,e),s=new Di("",r),d=is(n,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(d),{state:s,tree:d}}))}match(t){let e=new It([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),F,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,F,e).pipe(N(n=>({children:n,rootSnapshot:e})),Ct(n=>{if(n instanceof Ri)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ii?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,s):this.processSegment(t,e,n,n.segments,r,!0,s).pipe(N(d=>d instanceof Me?[d]:[]))}processChildren(t,e,n,r){let s=[];for(let d of Object.keys(n.children))d==="primary"?s.unshift(d):s.push(d);return se(s).pipe(St(d=>{let c=n.children[d],m=gd(e,d);return this.processSegmentGroup(t,m,c,d,r)}),Uo((d,c)=>(d.push(...c),d)),gr(null),Lo(),be(d=>{if(d===null)return Gt(n);let c=vs(d);return iu(c),x(c)}))}processSegment(t,e,n,r,s,d,c){return se(e).pipe(St(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,n,r,s,d,c).pipe(Ct(h=>{if(h instanceof Ii)return x(null);throw h}))),ot(m=>!!m),Ct(m=>{if(hs(m))return Xd(n,r,s)?x(new Xr):Gt(n);throw m}))}processSegmentAgainstRoute(t,e,n,r,s,d,c,m){return qe(n)!==d&&(d===F||!Nn(r,s,n))?Gt(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,s,d,m):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,s,d,m):Gt(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,d,c){let{matched:m,parameters:h,consumedSegments:D,positionalParamSegments:j,remainingSegments:X}=gs(e,r,s);if(!m)return Gt(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tu&&(this.allowRedirects=!1));let fe=new It(s,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,qa(r),qe(r),r.component??r._loadedComponent??null,r,$a(r)),Ce=In(fe,c,this.paramsInheritanceStrategy);return fe.params=Object.freeze(Ce.params),fe.data=Object.freeze(Ce.data),this.applyRedirects.applyRedirectCommands(D,r.redirectTo,j,fe,t).pipe(Re(xt=>this.applyRedirects.lineralizeSegments(r,xt)),be(xt=>this.processSegment(t,n,e,xt.concat(X),d,!1,c)))}matchSegmentAgainstRoute(t,e,n,r,s,d){let c=Wd(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),c.pipe(Re(m=>m.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Re(({routes:h})=>{let D=n._loadedInjector??t,{parameters:j,consumedSegments:X,remainingSegments:fe}=m,Ce=new It(X,j,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,qa(n),qe(n),n.component??n._loadedComponent??null,n,$a(n)),mr=In(Ce,d,this.paramsInheritanceStrategy);Ce.params=Object.freeze(mr.params),Ce.data=Object.freeze(mr.data);let{segmentGroup:xt,slicedSegments:pr}=Ba(e,X,fe,h);if(pr.length===0&&xt.hasChildren())return this.processChildren(D,h,xt,Ce).pipe(N(zi=>new Me(Ce,zi)));if(h.length===0&&pr.length===0)return x(new Me(Ce,[]));let wl=qe(n)===s;return this.processSegment(D,h,xt,pr,wl?F:s,!0,Ce).pipe(N(zi=>new Me(Ce,zi instanceof Me?[zi]:[])))}))):Gt(e)))}getChildConfig(t,e,n){return e.children?x({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?x({routes:e._loadedRoutes,injector:e._loadedInjector}):Bd(t,e,n,this.urlSerializer).pipe(be(r=>r?this.configLoader.loadChildren(t,e).pipe(le(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):Gd(e))):x({routes:[],injector:t})}};function iu(i){i.sort((t,e)=>t.value.outlet===F?-1:e.value.outlet===F?1:t.value.outlet.localeCompare(e.value.outlet))}function nu(i){let t=i.value.routeConfig;return t&&t.path===""}function vs(i){let t=[],e=new Set;for(let n of i){if(!nu(n)){t.push(n);continue}let r=t.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=vs(n.children);t.push(new Me(n.value,r))}return t.filter(n=>!e.has(n))}function qa(i){return i.data||{}}function $a(i){return i.resolve||{}}function ru(i,t,e,n,r,s){return be(d=>eu(i,t,e,n,d.extractedUrl,r,s).pipe(N(({state:c,tree:m})=>k(v({},d),{targetSnapshot:c,urlAfterRedirects:m}))))}function ou(i,t){return be(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return x(e);let s=new Set(r.map(m=>m.route)),d=new Set;for(let m of s)if(!d.has(m))for(let h of bs(m))d.add(h);let c=0;return se(d).pipe(St(m=>s.has(m)?au(m,n,i,t):(m.data=In(m,m.parent,i).resolve,x(void 0))),le(()=>c++),vr(1),be(m=>c===d.size?x(e):Xe))})}function bs(i){let t=i.children.map(e=>bs(e)).flat();return[i,...t]}function au(i,t,e,n){let r=i.routeConfig,s=i._resolve;return r?.title!==void 0&&!ds(r)&&(s[Ti]=r.title),Qi(()=>(i.data=In(i,i.parent,e).resolve,su(s,i,t,n).pipe(N(d=>(i._resolvedData=d,i.data=v(v({},i.data),d),null)))))}function su(i,t,e,n){let r=Br(i);if(r.length===0)return x({});let s={};return se(r).pipe(be(d=>lu(i[d],t,e,n).pipe(ot(),le(c=>{if(c instanceof ei)throw Rn(new mt,c);s[d]=c}))),vr(1),N(()=>s),Ct(d=>hs(d)?Xe:rt(d)))}function lu(i,t,e,n){let r=ii(t)??n,s=ni(i,r),d=s.resolve?s.resolve(t,e):Te(r,()=>s(t,e));return et(d)}function Ur(i){return Re(t=>{let e=i(t);return e?se(e).pipe(N(()=>t)):x(t)})}var oo=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===F);return n}getResolvedTitleForRoute(e){return e.data[Ti]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>A(ys),providedIn:"root"})}return i})(),ys=(()=>{class i extends oo{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(U(Oa))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ft=new G("",{providedIn:"root",factory:()=>({})}),Nt=new G(""),Vn=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(ma);loadComponent(e,n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return x(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=et(Te(e,()=>n.loadComponent())).pipe(N(_s),le(d=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=d}),Zi(()=>{this.componentLoaders.delete(n)})),s=new fr(r,()=>new Ue).pipe(hr());return this.componentLoaders.set(n,s),s}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return x({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=xs(n,this.compiler,e,this.onLoadEndListener).pipe(Zi(()=>{this.childrenLoaders.delete(n)})),d=new fr(s,()=>new Ue).pipe(hr());return this.childrenLoaders.set(n,d),d}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function xs(i,t,e,n){return et(Te(e,()=>i.loadChildren())).pipe(N(_s),be(r=>r instanceof ra||Array.isArray(r)?x(r):se(t.compileModuleAsync(r))),N(r=>{n&&n(i);let s,d,c=!1;return Array.isArray(r)?(d=r,c=!0):(s=r.create(e).injector,d=s.get(Nt,[],{optional:!0,self:!0}).flat()),{routes:d.map(ro),injector:s}}))}function du(i){return i&&typeof i=="object"&&"default"in i}function _s(i){return du(i)?i.default:i}var kn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>A(uu),providedIn:"root"})}return i})(),uu=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ao=new G(""),so=new G("");function Cs(i,t,e){let n=i.get(so),r=i.get(we);if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(h=>setTimeout(h));let s,d=new Promise(h=>{s=h}),c=r.startViewTransition(()=>(s(),cu(i)));c.ready.catch(h=>{});let{onViewTransitionCreated:m}=n;return m&&Te(i,()=>m({transition:c,from:t,to:e})),d}function cu(i){return new Promise(t=>{Xi({read:()=>setTimeout(t)},{injector:i})})}var lo=new G(""),Pn=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortWithErrorSubject=new Ue;configLoader=A(Vn);environmentInjector=A(wt);destroyRef=A(Yi);urlSerializer=A(Tt);rootContexts=A(Ft);location=A($t);inputBindingEnabled=A(Ni,{optional:!0})!==null;titleStrategy=A(oo);options=A(ft,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(kn);createViewTransition=A(ao,{optional:!0});navigationErrorHandler=A(lo,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>x(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new _n(r)),n=r=>this.events.next(new Cn(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(k(v({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:n}))}setupNavigations(e){return this.transitions=new Y(null),this.transitions.pipe(He(n=>n!==null),Re(n=>{let r=!1;return x(n).pipe(Re(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",ge.SupersededByNewNavigation),Xe;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?k(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>s.abortController.abort()};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&c!=="reload"){let m="";return this.events.next(new Ke(s.id,this.urlSerializer.serialize(s.rawUrl),m,Yt.IgnoredSameUrlNavigation)),s.resolve(!1),Xe}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return x(s).pipe(Re(m=>(this.events.next(new ht(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),m.id!==this.navigationId?Xe:Promise.resolve(m))),ru(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),le(m=>{n.targetSnapshot=m.targetSnapshot,n.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=k(v({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let h=new wi(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(h)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:m,extractedUrl:h,source:D,restoredState:j,extras:X}=s,fe=new ht(m,this.urlSerializer.serialize(h),D,j);this.events.next(fe);let Ce=ss(this.rootComponentType).snapshot;return this.currentTransition=n=k(v({},s),{targetSnapshot:Ce,urlAfterRedirects:h,extras:k(v({},X),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,x(n)}else{let m="";return this.events.next(new Ke(s.id,this.urlSerializer.serialize(s.extractedUrl),m,Yt.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Xe}}),le(s=>{let d=new vn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(d)}),N(s=>(this.currentTransition=n=k(v({},s),{guards:Sd(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),Vd(this.environmentInjector,s=>this.events.next(s)),le(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Rn(this.urlSerializer,s.guardsResult);let d=new bn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(d)}),He(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ge.GuardRejected),!1)),Ur(s=>{if(s.guards.canActivateChecks.length!==0)return x(s).pipe(le(d=>{let c=new yn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}),Re(d=>{let c=!1;return x(d).pipe(ou(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(d,"",ge.NoDataFromResolver)}}))}),le(d=>{let c=new xn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}))}),Ur(s=>{let d=c=>{let m=[];if(c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent){let h=ii(c)??this.environmentInjector;m.push(this.configLoader.loadComponent(h,c.routeConfig).pipe(le(D=>{c.component=D}),N(()=>{})))}for(let h of c.children)m.push(...d(h));return m};return Wi(d(s.targetSnapshot.root)).pipe(gr(null),Lt(1))}),Ur(()=>this.afterPreactivation()),Re(()=>{let{currentSnapshot:s,targetSnapshot:d}=n,c=this.createViewTransition?.(this.environmentInjector,s.root,d.root);return c?se(c).pipe(N(()=>n)):x(n)}),N(s=>{let d=bd(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=k(v({},s),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,n}),le(()=>{this.events.next(new Ei)}),Cd(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Lt(1),br(new _t(s=>{let d=n.abortController.signal,c=()=>s.next();return d.addEventListener("abort",c),()=>d.removeEventListener("abort",c)}).pipe(He(()=>!r&&!n.targetRouterState),le(()=>{this.cancelNavigationTransition(n,n.abortController.signal.reason+"",ge.Aborted)}))),le({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ve(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),br(this.transitionAbortWithErrorSubject.pipe(le(s=>{throw s}))),Zi(()=>{r||this.cancelNavigationTransition(n,"",ge.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ct(s=>{if(this.destroyed)return n.resolve(!1),Xe;if(r=!0,ps(s))this.events.next(new Ye(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),_d(s)?this.events.next(new Xt(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let d=new Jt(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let c=Te(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(c instanceof ei){let{message:m,cancellationCode:h}=Rn(this.urlSerializer,c);this.events.next(new Ye(n.id,this.urlSerializer.serialize(n.extractedUrl),m,h)),this.events.next(new Xt(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(d),s}catch(c){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(c)}}return Xe}))}))}cancelNavigationTransition(e,n,r){let s=new Ye(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function mu(i){return i!==Qt}var Ss=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>A(pu),providedIn:"root"})}return i})(),Fn=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},pu=(()=>{class i extends Fn{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ws=(()=>{class i{urlSerializer=A(Tt);options=A(ft,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=A($t);urlHandlingStrategy=A(kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Je;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,d=r??s;return d instanceof Je?this.urlSerializer.serialize(d):d}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=ss(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:()=>A(hu),providedIn:"root"})}return i})(),hu=(()=>{class i extends ws{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof ht?this.updateStateMemento():e instanceof Ke?this.commitTransition(n):e instanceof wi?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Ei?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Ye&&e.code!==ge.SupersededByNewNavigation&&e.code!==ge.Redirect?this.restoreHistory(n):e instanceof Jt?this.restoreHistory(n,!0):e instanceof ve&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:s,state:d}=n;if(this.location.isCurrentPathEqualTo(e)||s){let c=this.browserPageId,m=v(v({},d),this.generateNgRouterState(r,c));this.location.replaceState(e,"",m)}else{let c=v(v({},d),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function On(i,t){i.events.pipe(He(e=>e instanceof ve||e instanceof Ye||e instanceof Jt||e instanceof Ke),N(e=>e instanceof ve||e instanceof Ke?0:(e instanceof Ye?e.code===ge.Redirect||e.code===ge.SupersededByNewNavigation:!1)?2:1),He(e=>e!==2),Lt(1)).subscribe(()=>{t()})}var fu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},K=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(aa);stateManager=A(ws);options=A(ft,{optional:!0})||{};pendingTasks=A(zo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(Pn);urlSerializer=A(Tt);location=A($t);urlHandlingStrategy=A(kn);injector=A(wt);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(Ss);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(Nt,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(Ni,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new No;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof Ye&&n.code!==ge.Redirect&&n.code!==ge.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ve)this.navigated=!0;else if(n instanceof Xt){let d=n.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),m=v({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mu(r.source)},d);this.scheduleNavigation(c,Qt,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}hd(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let s={replaceUrl:!0},d=r?.navigationId?r:null;if(r){let m=v({},r);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(s.state=m)}let c=this.parseUrl(e);this.scheduleNavigation(c,n,d,s).catch(m=>{this.disposed||this.injector.get(Ji)(m)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ro),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:s,fragment:d,queryParamsHandling:c,preserveFragment:m}=n,h=m?this.currentUrlTree.fragment:d,D=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":D=v(v({},this.currentUrlTree.queryParams),s);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}D!==null&&(D=this.removeEmptyProps(D));let j;try{let X=r?r.snapshot:this.routerState.snapshot.root;j=ns(X)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),j=this.currentUrlTree.root}return rs(j,e,D,h??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=pt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Qt,null,n)}navigate(e,n={skipLocationChange:!1}){return vu(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=v({},fu):n===!1?r=v({},gu):r=n,pt(e))return ja(this.currentUrlTree,e,r);let s=this.parseUrl(e);return ja(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,s])=>(s!=null&&(n[r]=s),n),{})}scheduleNavigation(e,n,r,s,d){if(this.disposed)return Promise.resolve(!1);let c,m,h;d?(c=d.resolve,m=d.reject,h=d.promise):h=new Promise((j,X)=>{c=j,m=X});let D=this.pendingTasks.add();return On(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:m,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(j=>Promise.reject(j))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function vu(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new $(4008,!1)}var ke=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=st(null);get href(){return Be(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;applicationErrorHandler=A(Ji);options=A(ft,{optional:!0});constructor(e,n,r,s,d,c){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=d,this.locationStrategy=c,this.reactiveHref.set(A(new ha("href"),{optional:!0}));let m=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area"||!!(typeof customElements=="object"&&customElements.get(m)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,n=r=>r==="merge"||r==="preserve";e||=n(this.queryParamsHandling),e||=!this.queryParamsHandling&&!n(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof ve&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,s,d){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||n||r||s||d||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,m)?.catch(h=>{this.applicationErrorHandler(h)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let r=this.renderer,s=this.el.nativeElement;n!==null?r.setAttribute(s,e,n):r.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:pt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(b(K),b(Ve),Wo("tabindex"),b(lt),b(We),b(qt))};static \u0275dir=B({type:i,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,r){n&1&&g("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),n&2&&Ht("href",r.reactiveHref(),Ko)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Dt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Dt],replaceUrl:[2,"replaceUrl","replaceUrl",Dt],routerLink:"routerLink"},features:[ze]})}return i})(),co=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ue;constructor(e,n,r,s,d){this.router=e,this.element=n,this.renderer=r,this.cdr=s,this.link=d,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof ve&&this.update()})}ngAfterContentInit(){x(this.links.changes,x(null)).pipe(ui()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=se(e).pipe(ui()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=bu(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let s=r.urlTree;return s?e.isActive(s,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(b(K),b(We),b(lt),b(Mt),b(ke,8))};static \u0275dir=B({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,s){if(n&1&&sa(s,ke,5),n&2){let d;la(d=da())&&(r.links=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ze]})}return i})();function bu(i){return!!i.paths}var ki=class{};var Es=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,s){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(He(e=>e instanceof ve),St(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let s of n){s.providers&&!s._injector&&(s._injector=Ki(s.providers,e,`Route: ${s.path}`));let d=s._injector??e,c=s._loadedInjector??d;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(d,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return se(r).pipe(ui())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=x(null);let s=r.pipe(be(d=>d===null?x(void 0):(n._loadedRoutes=d.routes,n._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(n.loadComponent&&!n._loadedComponent){let d=this.loader.loadComponent(e,n);return se([s,d]).pipe(ui())}else return s})}static \u0275fac=function(n){return new(n||i)(U(K),U(wt),U(ki),U(Vn))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ms=new G(""),yu=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Qt;restoredId=0;store={};constructor(e,n,r,s,d={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=d,d.scrollPositionRestoration||="disabled",d.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ht?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ve?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ke&&e.code===Yt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Kt&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>Fo(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new Kt(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){ta()};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function mo(i,...t){return qo([{provide:Nt,multi:!0,useValue:i},[],{provide:Ve,useFactory:Ds,deps:[K]},{provide:wr,multi:!0,useFactory:As},t.map(e=>e.\u0275providers)])}function Ds(i){return i.routerState.root}function ri(i,t){return{\u0275kind:i,\u0275providers:t}}function As(){let i=A(ci);return t=>{let e=i.get(tn);if(t!==e.components[0])return;let n=i.get(K),r=i.get(Is);i.get(po)===1&&n.initialNavigation(),i.get(Fs,null,{optional:!0})?.setUpPreloading(),i.get(Ms,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Is=new G("",{factory:()=>new Ue}),po=new G("",{providedIn:"root",factory:()=>1});function Rs(){let i=[{provide:po,useValue:0},Sr(()=>{let t=A(ci);return t.get(xa,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(K),s=t.get(Is);On(r,()=>{n(!0)}),t.get(Pn).afterPreactivation=()=>(n(!0),s.closed?x(void 0):s),r.initialNavigation()}))})];return ri(2,i)}function Ts(){let i=[Sr(()=>{A(K).setUpLocationChangeListener()}),{provide:po,useValue:2}];return ri(3,i)}var Fs=new G("");function Ns(i){return ri(0,[{provide:Fs,useExisting:Es},{provide:ki,useExisting:i}])}function ho(){return ri(6,[{provide:qt,useClass:Dr}])}function Vs(){return ri(8,[io,{provide:Ni,useExisting:io}])}function ks(i){na("NgRouterViewTransitions");let t=[{provide:ao,useValue:Cs},{provide:so,useValue:v({skipNextTransition:!!i?.skipInitialTransition},i)}];return ri(9,t)}var Ps=[$t,{provide:Tt,useClass:mt},K,Ft,{provide:Ve,useFactory:Ds,deps:[K]},Vn,[]],it=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[Ps,[],{provide:Nt,multi:!0,useValue:e},[],n?.errorHandler?{provide:lo,useValue:n.errorHandler}:[],{provide:ft,useValue:n||{}},n?.useHash?_u():Cu(),xu(),n?.preloadingStrategy?Ns(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Su(n):[],n?.bindToComponentInputs?Vs().\u0275providers:[],n?.enableViewTransitions?ks().\u0275providers:[],wu()]}}static forChild(e){return{ngModule:i,providers:[{provide:Nt,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=dt({type:i});static \u0275inj=at({})}return i})();function xu(){return{provide:Ms,useFactory:()=>{let i=A(Da),t=A(Ut),e=A(ft),n=A(Pn),r=A(Tt);return e.scrollOffset&&i.setOffset(e.scrollOffset),new yu(r,n,i,t,e)}}}function _u(){return{provide:qt,useClass:Dr}}function Cu(){return{provide:qt,useClass:_a}}function Su(i){return[i.initialNavigation==="disabled"?Ts().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Rs().\u0275providers:[]]}var uo=new G("");function wu(){return[{provide:uo,useFactory:As},{provide:wr,multi:!0,useExisting:uo}]}var zs=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(b(lt),b(We))};static \u0275dir=B({type:i})}return i})(),Bi=(()=>{class i extends zs{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,features:[de]})}return i})(),Pt=new G(""),Eu={provide:Pt,useExisting:Se(()=>qi),multi:!0},qi=(()=>{class i extends Bi{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&g("change",function(d){return r.onChange(d.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ee([Eu]),de]})}return i})(),Mu={provide:Pt,useExisting:Se(()=>me),multi:!0};function Du(){let i=ut()?ut().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Au=new G(""),me=(()=>{class i extends zs{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Du())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(b(lt),b(We),b(Au,8))};static \u0275dir=B({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&g("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},standalone:!1,features:[Ee([Mu]),de]})}return i})();function bo(i){return i==null||yo(i)===0}function yo(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var Ot=new G(""),Zn=new G(""),Iu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,C=class{static min(t){return Ws(t)}static max(t){return Qs(t)}static required(t){return Zs(t)}static requiredTrue(t){return Ru(t)}static email(t){return Tu(t)}static minLength(t){return Fu(t)}static maxLength(t){return Nu(t)}static pattern(t){return Vu(t)}static nullValidator(t){return Ln()}static compose(t){return tl(t)}static composeAsync(t){return il(t)}};function Ws(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function Qs(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function Zs(i){return bo(i.value)?{required:!0}:null}function Ru(i){return i.value===!0?null:{required:!0}}function Tu(i){return bo(i.value)||Iu.test(i.value)?null:{email:!0}}function Fu(i){return t=>{let e=t.value?.length??yo(t.value);return e===null||e===0?null:e<i?{minlength:{requiredLength:i,actualLength:e}}:null}}function Nu(i){return t=>{let e=t.value?.length??yo(t.value);return e!==null&&e>i?{maxlength:{requiredLength:i,actualLength:e}}:null}}function Vu(i){if(!i)return Ln;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(bo(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Ln(i){return null}function Ys(i){return i!=null}function Js(i){return en(i)?se(i):i}function Ks(i){let t={};return i.forEach(e=>{t=e!=null?v(v({},t),e):t}),Object.keys(t).length===0?null:t}function Xs(i,t){return t.map(e=>e(i))}function ku(i){return!i.validate}function el(i){return i.map(t=>ku(t)?t:e=>t.validate(e))}function tl(i){if(!i)return null;let t=i.filter(Ys);return t.length==0?null:function(e){return Ks(Xs(e,t))}}function xo(i){return i!=null?tl(el(i)):null}function il(i){if(!i)return null;let t=i.filter(Ys);return t.length==0?null:function(e){let n=Xs(e,t).map(Js);return jo(n).pipe(N(Ks))}}function _o(i){return i!=null?il(el(i)):null}function Os(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function nl(i){return i._rawValidators}function rl(i){return i._rawAsyncValidators}function fo(i){return i?Array.isArray(i)?i:[i]:[]}function Un(i,t){return Array.isArray(i)?i.includes(t):i===t}function js(i,t){let e=fo(t);return fo(i).forEach(r=>{Un(e,r)||e.push(r)}),e}function Ls(i,t){return fo(t).filter(e=>!Un(i,e))}var Hn=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xo(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_o(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},nt=class extends Hn{name;get formDirective(){return null}get path(){return null}},kt=class extends Hn{_parent=null;name=null;valueAccessor=null},Bn=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Pu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},gp=k(v({},Pu),{"[class.ng-submitted]":"isSubmitted"}),pe=(()=>{class i extends Bn{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(b(kt,2))};static \u0275dir=B({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&Er("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[de]})}return i})(),ye=(()=>{class i extends Bn{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(b(nt,10))};static \u0275dir=B({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&Er("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[de]})}return i})();var Pi="VALID",jn="INVALID",oi="PENDING",Oi="DISABLED",gt=class{},qn=class extends gt{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Li=class extends gt{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ui=class extends gt{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},ai=class extends gt{status;source;constructor(t,e){super(),this.status=t,this.source=e}},$n=class extends gt{source;constructor(t){super(),this.source=t}},Gn=class extends gt{source;constructor(t){super(),this.source=t}};function Co(i){return(Yn(i)?i.validators:i)||null}function Ou(i){return Array.isArray(i)?xo(i):i||null}function So(i,t){return(Yn(t)?t.asyncValidators:i)||null}function ju(i){return Array.isArray(i)?_o(i):i||null}function Yn(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function ol(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new $(1e3,"");if(!n[e])throw new $(1001,"")}function al(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new $(1002,"")})}var si=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Be(this.statusReactive)}set status(t){Be(()=>this.statusReactive.set(t))}_status=Bt(()=>this.statusReactive());statusReactive=st(void 0);get valid(){return this.status===Pi}get invalid(){return this.status===jn}get pending(){return this.status==oi}get disabled(){return this.status===Oi}get enabled(){return this.status!==Oi}errors;get pristine(){return Be(this.pristineReactive)}set pristine(t){Be(()=>this.pristineReactive.set(t))}_pristine=Bt(()=>this.pristineReactive());pristineReactive=st(!0);get dirty(){return!this.pristine}get touched(){return Be(this.touchedReactive)}set touched(t){Be(()=>this.touchedReactive.set(t))}_touched=Bt(()=>this.touchedReactive());touchedReactive=st(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(js(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(js(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ls(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ls(t,this._rawAsyncValidators))}hasValidator(t){return Un(this._rawValidators,t)}hasAsyncValidator(t){return Un(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(k(v({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ui(!0,n))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ui(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(k(v({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Li(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Li(!0,n))}markAsPending(t={}){this.status=oi;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ai(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(k(v({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Oi,this.errors=null,this._forEachChild(r=>{r.disable(k(v({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new qn(this.value,n)),this._events.next(new ai(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(v({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Pi,this._forEachChild(n=>{n.enable(k(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(k(v({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pi||this.status===oi)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new qn(this.value,e)),this._events.next(new ai(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(k(v({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oi:Pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let n=Js(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new ai(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?Oi:this.errors?jn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(jn)?jn:Pi}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Li(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ui(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yn(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Ou(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ju(this._rawAsyncValidators)}},li=class extends si{constructor(t,e,n){super(Co(e),So(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){al(this,!0,t),Object.keys(t).forEach(n=>{ol(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,s)=>{n=e(n,r,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var go=class extends li{};var $i=new G("",{providedIn:"root",factory:()=>Jn}),Jn="always";function sl(i,t){return[...t.path,i]}function zn(i,t,e=Jn){wo(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Uu(i,t),Bu(i,t),Hu(i,t),Lu(i,t)}function Us(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Qn(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Wn(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Lu(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function wo(i,t){let e=nl(i);t.validator!==null?i.setValidators(Os(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=rl(i);t.asyncValidator!==null?i.setAsyncValidators(Os(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Wn(t._rawValidators,r),Wn(t._rawAsyncValidators,r)}function Qn(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=nl(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(d=>d!==t.validator);s.length!==r.length&&(e=!0,i.setValidators(s))}}if(t.asyncValidator!==null){let r=rl(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(d=>d!==t.asyncValidator);s.length!==r.length&&(e=!0,i.setAsyncValidators(s))}}}let n=()=>{};return Wn(t._rawValidators,n),Wn(t._rawAsyncValidators,n),e}function Uu(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ll(i,t)})}function Hu(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ll(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function ll(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Bu(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function dl(i,t){i==null,wo(i,t)}function qu(i,t){return Qn(i,t)}function ul(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function $u(i){return Object.getPrototypeOf(i.constructor)===Bi}function cl(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function ml(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(s=>{s.constructor===me?e=s:$u(s)?n=s:r=s}),r||n||e||null}function Gu(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var zu={provide:nt,useExisting:Se(()=>Eo)},ji=Promise.resolve(),Eo=(()=>{class i extends nt{callSetDisabledState;get submitted(){return Be(this.submittedReactive)}_submitted=Bt(()=>this.submittedReactive());submittedReactive=st(!1);_directives=new Set;form;ngSubmit=new ue;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new li({},xo(e),_o(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ji.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),zn(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ji.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ji.then(()=>{let n=this._findContainer(e.path),r=new li({});dl(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ji.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){ji.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),cl(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new $n(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Gn(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(b(Ot,10),b(Zn,10),b($i,8))};static \u0275dir=B({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&g("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ee([zu]),de]})}return i})();function Hs(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Bs(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Hi=class extends si{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Co(e),So(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yn(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Bs(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Hs(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Hs(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Bs(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Wu=i=>i instanceof Hi;var Qu={provide:kt,useExisting:Se(()=>$e)},qs=Promise.resolve(),$e=(()=>{class i extends kt{_changeDetectorRef;callSetDisabledState;control=new Hi;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ue;constructor(e,n,r,s,d,c){super(),this._changeDetectorRef=d,this.callSetDisabledState=c,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=ml(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ul(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){qs.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Dt(n);qs.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?sl(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(b(nt,9),b(Ot,10),b(Zn,10),b(Pt,10),b(Mt,8),b($i,8))};static \u0275dir=B({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ee([Qu]),de,ze]})}return i})();var xe=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=B({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),Zu={provide:Pt,useExisting:Se(()=>jt),multi:!0},jt=(()=>{class i extends Bi{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&g("input",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ee([Zu]),de]})}return i})();var pl=new G("");var Yu={provide:nt,useExisting:Se(()=>Ae)},Ae=(()=>{class i extends nt{callSetDisabledState;get submitted(){return Be(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Bt(()=>this._submittedReactive());_submittedReactive=st(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ue;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return zn(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Us(e.control||null,e,!1),Gu(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),cl(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new $n(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,n={}){this.form.reset(e,n),this._submittedReactive.set(!1),n?.emitEvent!==!1&&this.form._events.next(new Gn(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(Us(n||null,e),Wu(r)&&(zn(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);dl(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&qu(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wo(this.form,this),this._oldForm&&Qn(this._oldForm,this)}static \u0275fac=function(n){return new(n||i)(b(Ot,10),b(Zn,10),b($i,8))};static \u0275dir=B({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&g("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ee([Yu]),de,ze]})}return i})();var Ju={provide:kt,useExisting:Se(()=>Ie)},Ie=(()=>{class i extends kt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ue;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,s,d){super(),this._ngModelWarningConfig=d,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=ml(this,s)}ngOnChanges(e){this._added||this._setUpControl(),ul(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return sl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||i)(b(nt,13),b(Ot,10),b(Zn,10),b(Pt,10),b(pl,8))};static \u0275dir=B({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ee([Ju]),de,ze]})}return i})();var Ku={provide:Pt,useExisting:Se(()=>_e),multi:!0};function hl(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Xu(i){return i.split(":")[0]}var _e=(()=>{class i extends Bi{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=A(tn).injector;destroyRef=A(Yi);cdr=A(Mt);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Xi({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let n=this._getOptionId(e),r=hl(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Xu(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&g("change",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ee([Ku]),de]})}return i})(),Pe=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(hl(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(n){return new(n||i)(b(We),b(lt),b(_e,9))};static \u0275dir=B({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),ec={provide:Pt,useExisting:Se(()=>fl),multi:!0};function $s(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function tc(i){return i.split(":")[0]}var fl=(()=>{class i extends Bi{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(s=>this._getOptionId(s));n=(s,d)=>{s._setSelected(r.indexOf(d.toString())>-1)}}else n=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],s=n.selectedOptions;if(s!==void 0){let d=s;for(let c=0;c<d.length;c++){let m=d[c],h=this._getOptionValue(m.value);r.push(h)}}else{let d=n.options;for(let c=0;c<d.length;c++){let m=d[c];if(m.selected){let h=this._getOptionValue(m.value);r.push(h)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=tc(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&g("change",function(d){return r.onChange(d.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ee([ec]),de]})}return i})(),Oe=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue($s(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue($s(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(b(We),b(lt),b(fl,9))};static \u0275dir=B({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();function gl(i){return typeof i=="number"?i:parseFloat(i)}var Mo=(()=>{class i{_validator=Ln;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Ln,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=B({type:i,features:[ze]})}return i})(),ic={provide:Ot,useExisting:Se(()=>Do),multi:!0},Do=(()=>{class i extends Mo{max;inputName="max";normalizeInput=e=>gl(e);createValidator=e=>Qs(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Ht("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Ee([ic]),de]})}return i})(),nc={provide:Ot,useExisting:Se(()=>Ao),multi:!0},Ao=(()=>{class i extends Mo{min;inputName="min";normalizeInput=e=>gl(e);createValidator=e=>Ws(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Ht("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Ee([nc]),de]})}return i})(),rc={provide:Ot,useExisting:Se(()=>Io),multi:!0};var Io=(()=>{class i extends Mo{required;inputName="required";normalizeInput=Dt;createValidator=e=>Zs;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(i)))(r||i)}})();static \u0275dir=B({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Ht("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ee([rc]),de]})}return i})();var vl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=dt({type:i});static \u0275inj=at({})}return i})(),vo=class extends si{constructor(t,e,n){super(Co(e),So(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){al(this,!1,t),t.forEach((n,r)=>{ol(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Gs(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var je=(()=>{class i{useNonNullable=!1;get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),s={};return Gs(n)?s=n:n!==null&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new li(r,s)}record(e,n=null){let r=this._reduceControls(e);return new go(r,n)}control(e,n,r){let s={};return this.useNonNullable?(Gs(n)?s=n:(s.validators=n,s.asyncValidators=r),new Hi(e,k(v({},s),{nonNullable:!0}))):new Hi(e,n,r)}array(e,n,r){let s=e.map(d=>this._createControl(d));return new vo(s,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof Hi)return e;if(e instanceof si)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(n,r,s)}else return this.control(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var he=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:$i,useValue:e.callSetDisabledState??Jn}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=dt({type:i});static \u0275inj=at({imports:[vl]})}return i})(),Le=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:pl,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:$i,useValue:e.callSetDisabledState??Jn}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=dt({type:i});static \u0275inj=at({imports:[vl]})}return i})();var bt=class i{currentUserSubject=new Y(null);currentUser$=this.currentUserSubject.asObservable();isAuthenticatedSubject=new Y(!1);isAuthenticated$=this.isAuthenticatedSubject.asObservable();mockUsers=[{id:"1",username:"admin",email:"admin@plateau.ci",password:"admin123",role:"admin",firstName:"Kouassi",lastName:"Adjoua",phone:"+225 01 02 03 04 05",isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date},{id:"2",username:"agent1",email:"agent1@plateau.ci",password:"agent123",role:"agent",firstName:"Koffi",lastName:"Brou",phone:"+225 05 06 07 08 09",isActive:!0,createdAt:new Date("2024-01-15"),updatedAt:new Date},{id:"3",username:"consultant",email:"consultant@plateau.ci",password:"consultant123",role:"consultant",firstName:"Aya",lastName:"Diabat\xE9",phone:"+225 07 08 09 10 11",isActive:!0,createdAt:new Date("2024-02-01"),updatedAt:new Date}];constructor(){let t=localStorage.getItem("currentUser");if(t){let e=JSON.parse(t);this.currentUserSubject.next(e),this.isAuthenticatedSubject.next(!0)}}login(t){return x(t).pipe(H(1e3),N(e=>{let n=this.mockUsers.find(m=>m.username===e.username&&m.password===e.password);if(!n)throw new Error("Identifiants invalides");if(!n.isActive)throw new Error("Compte d\xE9sactiv\xE9");let c=n,{password:r}=c,s=di(c,["password"]),d={user:s,token:this.generateMockToken(),refreshToken:this.generateMockToken(),expiresIn:3600};return localStorage.setItem("currentUser",JSON.stringify(s)),localStorage.setItem("authToken",d.token),this.currentUserSubject.next(s),this.isAuthenticatedSubject.next(!0),d}))}logout(){localStorage.removeItem("currentUser"),localStorage.removeItem("authToken"),this.currentUserSubject.next(null),this.isAuthenticatedSubject.next(!1)}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return this.isAuthenticatedSubject.value}hasRole(t){let e=this.getCurrentUser();return e?e.role===t:!1}canAccess(t){let e=this.getCurrentUser();return e?t.includes(e.role):!1}generateMockToken(){return"mock_token_"+Math.random().toString(36).substr(2,9)}getUsers(){return x(this.mockUsers.map(n=>{var r=n,{password:t}=r,e=di(r,["password"]);return e})).pipe(H(500))}createUser(t){let e={id:(this.mockUsers.length+1).toString(),username:t.username,email:t.email,role:t.role,firstName:t.firstName,lastName:t.lastName,phone:t.phone,isActive:!0,createdAt:new Date,updatedAt:new Date};this.mockUsers.push(e);let s=e,{password:n}=s,r=di(s,["password"]);return x(r).pipe(H(500))}updateUser(t,e){let n=this.mockUsers.findIndex(c=>c.id===t);if(n===-1)return rt(()=>new Error("Utilisateur introuvable"));this.mockUsers[n]=k(v(v({},this.mockUsers[n]),e),{updatedAt:new Date});let d=this.mockUsers[n],{password:r}=d,s=di(d,["password"]);return x(s).pipe(H(500))}deleteUser(t){let e=this.mockUsers.findIndex(n=>n.id===t);return e===-1?rt(()=>new Error("Utilisateur introuvable")):(this.mockUsers.splice(e,1),x(!0).pipe(H(500)))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};var oc=(i,t)=>t.username;function ac(i,t){if(i&1&&(o(0,"div",12)(1,"div",32),_(),o(2,"svg",33),p(3,"path",34),a(),E(),o(4,"span"),l(5),a()()()),i&2){let e=f();u(5),y(e.errorMessage)}}function sc(i,t){i&1&&(_(),o(0,"svg",23),p(1,"path",35)(2,"path",36),a())}function lc(i,t){i&1&&(_(),o(0,"svg",23),p(1,"path",37),a())}function dc(i,t){i&1&&(_(),o(0,"svg",25),p(1,"circle",38)(2,"path",39),a())}function uc(i,t){if(i&1){let e=P();o(0,"button",40),g("click",function(){let r=S(e).$implicit,s=f();return w(s.selectDemoAccount(r))}),o(1,"div",41)(2,"div")(3,"div",42),l(4),a(),o(5,"div",43),l(6),a()(),o(7,"div",44),l(8),a()()()}if(i&2){let e=t.$implicit;u(4),M(" ",e.label," "),u(2),y(e.description),u(2),ce(" ",e.username," / ",e.password," ")}}var Kn=class i{constructor(t,e){this.authService=t;this.router=e}credentials={username:"",password:""};errorMessage="";isLoading=!1;showPassword=!1;demoAccounts=[{username:"admin",password:"admin123",label:"Administrateur",description:"Acc\xE8s complet au syst\xE8me"},{username:"agent1",password:"agent123",label:"Agent Municipal",description:"Saisie et consultation des donn\xE9es"},{username:"consultant",password:"consultant123",label:"Consultant",description:"Consultation uniquement"}];onSubmit(){this.errorMessage="",this.isLoading=!0;let t={username:this.credentials.username,password:this.credentials.password};this.authService.login(t).subscribe({next:e=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},error:e=>{this.isLoading=!1,this.errorMessage=e.message||"Une erreur est survenue lors de la connexion",console.error("Erreur de connexion:",e)}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}selectDemoAccount(t){this.credentials.username=t.username,this.credentials.password=t.password,this.errorMessage=""}static \u0275fac=function(e){return new(e||i)(b(bt),b(K))};static \u0275cmp=q({type:i,selectors:[["app-login"]],decls:47,vars:8,consts:[["loginForm","ngForm"],[1,"min-h-screen","bg-gradient-to-br","from-orange-400","via-red-500","to-pink-500","flex","items-center","justify-center","p-2"],[1,"max-w-md","w-full"],[1,"text-center","mb-4"],[1,"mx-auto","w-16","h-16","bg-white","rounded-full","flex","items-center","justify-center","mb-3","shadow-lg"],["fill","currentColor","viewBox","0 0 20 20",1,"w-8","h-8","text-orange-600"],["d","M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-sm","text-orange-100"],[1,"bg-white","rounded-lg","shadow-xl","p-6"],[1,"text-xl","font-bold","text-gray-900","mb-4","text-center"],[1,"space-y-4",3,"ngSubmit"],[1,"bg-red-50","border","border-red-200","text-red-700","px-3","py-2","rounded-md","text-sm"],["for","username",1,"form-label"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-gray-400"],["d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"],["type","text","id","username","name","username","required","","placeholder","Votre nom d'utilisateur","autocomplete","username",1,"form-input","pl-10",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["id","password","name","password","required","","placeholder","Votre mot de passe","autocomplete","current-password",1,"form-input","pl-10","pr-10",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["type","submit",1,"w-full","btn-primary","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","justify-center",3,"disabled"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"space-y-2"],[1,"w-full","text-left","p-2","rounded-lg","border","border-gray-200","hover:border-orange-300","hover:bg-orange-50","transition-colors","group"],[1,"mt-4","text-center"],[1,"text-orange-100","text-xs"],[1,"flex"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","text-red-400","mr-2","mt-0.5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"w-full","text-left","p-2","rounded-lg","border","border-gray-200","hover:border-orange-300","hover:bg-orange-50","transition-colors","group",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-medium","text-gray-900","group-hover:text-orange-700"],[1,"text-xs","text-gray-500"],[1,"text-xs","font-mono","text-gray-400","group-hover:text-orange-600"]],template:function(e,n){if(e&1){let r=P();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),_(),o(4,"svg",5),p(5,"path",6),a()(),E(),o(6,"h1",7),l(7,"Gestion Populations"),a(),o(8,"p",8),l(9,"Commune du Plateau - C\xF4te d'Ivoire"),a()(),o(10,"div",9)(11,"h2",10),l(12,"Connexion"),a(),o(13,"form",11,0),g("ngSubmit",function(){return S(r),w(n.onSubmit())}),R(15,ac,6,1,"div",12),o(16,"div")(17,"label",13),l(18,"Nom d'utilisateur"),a(),o(19,"div",14)(20,"div",15),_(),o(21,"svg",16),p(22,"path",17),a()(),E(),o(23,"input",18),re("ngModelChange",function(d){return S(r),ne(n.credentials.username,d)||(n.credentials.username=d),w(d)}),a()()(),o(24,"div")(25,"label",19),l(26,"Mot de passe"),a(),o(27,"div",14)(28,"div",15),_(),o(29,"svg",16),p(30,"path",20),a()(),E(),o(31,"input",21),re("ngModelChange",function(d){return S(r),ne(n.credentials.password,d)||(n.credentials.password=d),w(d)}),a(),o(32,"button",22),g("click",function(){return S(r),w(n.togglePasswordVisibility())}),R(33,sc,3,0,":svg:svg",23)(34,lc,2,0,":svg:svg",23),a()()(),o(35,"button",24),R(36,dc,3,0,":svg:svg",25),l(37),a()(),o(38,"div",26)(39,"h3",27),l(40,"Comptes de d\xE9monstration :"),a(),o(41,"div",28),ee(42,uc,9,4,"button",29,oc),a()()(),o(44,"div",30)(45,"p",31),l(46," \xA9 2024 Mairie du Plateau. Tous droits r\xE9serv\xE9s. "),a()()()()}if(e&2){let r=ua(14);u(15),T(n.errorMessage?15:-1),u(8),ie("ngModel",n.credentials.username),u(8),I("type",n.showPassword?"text":"password"),ie("ngModel",n.credentials.password),u(2),T(n.showPassword?34:33),u(2),I("disabled",!r.form.valid||n.isLoading),u(),T(n.isLoading?36:-1),u(),M(" ",n.isLoading?"Connexion...":"Se connecter"," "),u(5),te(n.demoAccounts)}},dependencies:[z,he,xe,me,pe,ye,Io,$e,Eo],encapsulation:2})};var yt=class i{famillesSubject=new Y([]);familles$=this.famillesSubject.asObservable();mockFamilles=[{id:"1",nomFamille:"KONE",adresse:{rue:"Rue 12, Lot 45",quartier:"Pateau Nord",codePostal:"01",ville:"Abidjan",coordonnees:{latitude:5.3364,longitude:-4.0267}},chefFamille:{id:"1",nom:"KONE",prenoms:"Kouassi Jean",sexe:"M",dateNaissance:new Date("1980-05-15"),lieuNaissance:"Abidjan",nationalite:"Ivoirienne",profession:"Fonctionnaire",niveauEtude:"Sup\xE9rieur",situationMatrimoniale:"Mari\xE9",numeroIdentite:"CI1234567890",telephone:"+225 07 12 34 56 78",email:"kone.jean@email.ci",estChefFamille:!0,estActif:!0,dateEnregistrement:new Date("2024-01-15"),dateMiseAJour:new Date,observations:"Chef de famille actif"},membres:[{id:"1",nom:"KONE",prenoms:"Kouassi Jean",sexe:"M",dateNaissance:new Date("1980-05-15"),lieuNaissance:"Abidjan",nationalite:"Ivoirienne",profession:"Fonctionnaire",niveauEtude:"Sup\xE9rieur",situationMatrimoniale:"Mari\xE9",numeroIdentite:"CI1234567890",telephone:"+225 07 12 34 56 78",email:"kone.jean@email.ci",estChefFamille:!0,estActif:!0,dateEnregistrement:new Date("2024-01-15"),dateMiseAJour:new Date,observations:"Chef de famille"},{id:"2",nom:"KONE",prenoms:"Aya Marie",sexe:"F",dateNaissance:new Date("1985-08-22"),lieuNaissance:"Bouak\xE9",nationalite:"Ivoirienne",profession:"Commer\xE7ante",niveauEtude:"Secondaire",situationMatrimoniale:"Mari\xE9",numeroIdentite:"CI0987654321",telephone:"+225 05 98 76 54 32",estChefFamille:!1,estActif:!0,dateEnregistrement:new Date("2024-01-15"),dateMiseAJour:new Date}],nombreMembres:2,revenusEstimes:45e4,typeLogement:"Propri\xE9taire",sourceEau:"Robinet",sourceElectricite:"CIE",evacuationEaux:"R\xE9seau public",numeroCompte:"FAM001",dateCreation:new Date("2024-01-15"),dateEnregistrement:new Date("2024-01-15"),dateMiseAJour:new Date,statutValidation:"Valid\xE9"},{id:"2",nomFamille:"OUATTARA",adresse:{rue:"Avenue 7, R\xE9sidence Belle Vue",quartier:"Plateau",codePostal:"01",ville:"Abidjan",coordonnees:{latitude:5.3198,longitude:-4.0267}},chefFamille:{id:"3",nom:"OUATTARA",prenoms:"Ibrahim",sexe:"M",dateNaissance:new Date("1975-12-03"),lieuNaissance:"Korhogo",nationalite:"Ivoirienne",profession:"Ing\xE9nieur",niveauEtude:"Sup\xE9rieur",situationMatrimoniale:"Mari\xE9",numeroIdentite:"CI5555666677",telephone:"+225 01 23 45 67 89",estChefFamille:!0,estActif:!0,dateEnregistrement:new Date("2024-02-01"),dateMiseAJour:new Date},membres:[{id:"3",nom:"OUATTARA",prenoms:"Ibrahim",sexe:"M",dateNaissance:new Date("1975-12-03"),lieuNaissance:"Korhogo",nationalite:"Ivoirienne",profession:"Ing\xE9nieur",niveauEtude:"Sup\xE9rieur",situationMatrimoniale:"Mari\xE9",numeroIdentite:"CI5555666677",telephone:"+225 01 23 45 67 89",estChefFamille:!0,estActif:!0,dateEnregistrement:new Date("2024-02-01"),dateMiseAJour:new Date}],nombreMembres:1,revenusEstimes:75e4,typeLogement:"Locataire",sourceEau:"Robinet",sourceElectricite:"CIE",evacuationEaux:"R\xE9seau public",numeroCompte:"FAM002",dateCreation:new Date("2024-02-01"),dateEnregistrement:new Date("2024-02-01"),dateMiseAJour:new Date,statutValidation:"Valid\xE9"}];constructor(){this.famillesSubject.next(this.mockFamilles)}createFamille(t){return x(t).pipe(H(500),N(e=>{let n=k(v({},e),{id:this.generateId(),dateEnregistrement:new Date,dateMiseAJour:new Date}),r=this.famillesSubject.value;return r.push(n),this.famillesSubject.next([...r]),n}))}getAllFamilles(){return this.familles$.pipe(H(300))}getFamilleById(t){return this.familles$.pipe(H(200),N(e=>e.find(n=>n.id===t)||null))}searchFamilles(t){return this.familles$.pipe(H(300),N(e=>e.filter(n=>{let r=!0;return t.nom&&(r=r&&n.nomFamille.toLowerCase().includes(t.nom.toLowerCase())),t.quartier&&(r=r&&n.adresse.quartier.toLowerCase().includes(t.quartier.toLowerCase())),t.statut&&(r=r&&n.statutValidation===t.statut),r})))}updateFamille(t,e){return x(e).pipe(H(500),N(n=>{let r=this.famillesSubject.value,s=r.findIndex(c=>c.id===t);if(s===-1)throw new Error("Famille non trouv\xE9e");let d=k(v(v({},r[s]),n),{id:t,dateMiseAJour:new Date});return r[s]=d,this.famillesSubject.next([...r]),d}))}deleteFamille(t){return x(t).pipe(H(300),N(()=>{let e=this.famillesSubject.value,n=e.findIndex(r=>r.id===t);if(n===-1)throw new Error("Famille non trouv\xE9e");return e.splice(n,1),this.famillesSubject.next([...e]),!0}))}addMembreToFamille(t,e){return x(e).pipe(H(500),N(n=>{let r=this.famillesSubject.value,s=r.find(c=>c.id===t);if(!s)throw new Error("Famille non trouv\xE9e");let d=k(v({},n),{id:this.generateId(),dateEnregistrement:new Date,dateMiseAJour:new Date});return s.membres.push(d),s.nombreMembres=s.membres.length,s.dateMiseAJour=new Date,this.famillesSubject.next([...r]),d}))}updateMembre(t,e,n){return x(n).pipe(H(500),N(r=>{let s=this.famillesSubject.value,d=s.find(h=>h.id===t);if(!d)throw new Error("Famille non trouv\xE9e");let c=d.membres.findIndex(h=>h.id===e);if(c===-1)throw new Error("Membre non trouv\xE9");let m=k(v(v({},d.membres[c]),r),{id:e,dateMiseAJour:new Date});return d.membres[c]=m,d.dateMiseAJour=new Date,m.estChefFamille&&(d.chefFamille=m),this.famillesSubject.next([...s]),m}))}deleteMembre(t,e){return x(!0).pipe(H(300),N(()=>{let n=this.famillesSubject.value,r=n.find(c=>c.id===t);if(!r)throw new Error("Famille non trouv\xE9e");let s=r.membres.findIndex(c=>c.id===e);if(s===-1)throw new Error("Membre non trouv\xE9");if(r.membres[s].estChefFamille&&r.membres.length>1)throw new Error("Impossible de supprimer le chef de famille. D\xE9signez d'abord un nouveau chef.");return r.membres.splice(s,1),r.nombreMembres=r.membres.length,r.dateMiseAJour=new Date,this.famillesSubject.next([...n]),!0}))}getStatistiquesFamilles(){return this.familles$.pipe(H(200),N(t=>{let e=t.length,n=t.reduce((h,D)=>h+D.nombreMembres,0),r=t.filter(h=>h.statutValidation==="Valid\xE9").length,s=t.reduce((h,D)=>h+(D.revenusEstimes||0),0),d=e>0?s/e:0,c=t.reduce((h,D)=>{let j=D.adresse.quartier;return h[j]=(h[j]||0)+1,h},{}),m=t.reduce((h,D)=>{let j=D.typeLogement||"Non sp\xE9cifi\xE9";return h[j]=(h[j]||0)+1,h},{});return{totalFamilles:e,totalMembres:n,famillesValidees:r,pourcentageValidation:e>0?r/e*100:0,revenuMoyen:d,repartitionQuartier:c,repartitionLogement:m}}))}generateId(){return Math.random().toString(36).substring(2)+Date.now().toString(36)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};var bl=(i,t)=>t.nom,yl=(i,t)=>t.id;function pc(i,t){if(i&1&&(o(0,"div",41)(1,"div",16),p(2,"div"),o(3,"span",53),l(4),a()(),o(5,"div",16)(6,"span",54),l(7),a(),o(8,"div",55),p(9,"div"),a(),o(10,"span",56),l(11),a()()()),i&2){let e=t.$implicit;u(2),O("w-3 h-3 rounded-full mr-3 "+e.color),u(2),y(e.nom),u(3),y(e.familles),u(2),O("h-2 rounded-full "+e.color),hi("width",e.pourcentage,"%"),u(2),M("",e.pourcentage,"%")}}function hc(i,t){if(i&1&&(o(0,"div",41)(1,"div",16),p(2,"div"),o(3,"span",53),l(4),a()(),o(5,"div",16)(6,"span",54),l(7),a(),o(8,"div",55),p(9,"div"),a(),o(10,"span",56),l(11),a()()()),i&2){let e=t.$implicit;u(2),O("w-3 h-3 rounded-full mr-3 "+e.color),u(2),y(e.nom),u(3),y(e.nombre),u(2),O("h-2 rounded-full "+e.color),hi("width",e.pourcentage,"%"),u(2),M("",e.pourcentage,"%")}}function fc(i,t){if(i&1&&(o(0,"div")(1,"div",61)(2,"div",17),_(),o(3,"svg",62),p(4,"path",63),a()(),E(),o(5,"div",64)(6,"p"),l(7),a(),o(8,"p"),l(9),a()()()()),i&2){let e=t.$implicit;O("p-3 rounded-md border-l-4 "+e.class),u(3),O("w-5 h-5 "+e.iconClass),u(3),O("text-sm font-medium "+e.textClass),u(),y(e.titre),u(),O("text-sm "+e.descClass),u(),y(e.description)}}function gc(i,t){if(i&1&&(o(0,"div",50)(1,"div",38)(2,"h3",57),_(),o(3,"svg",58),p(4,"path",59),a(),l(5," Alertes et notifications "),a(),E(),o(6,"div",40),ee(7,fc,10,10,"div",60,yl),a()()()),i&2){let e=f();u(7),te(e.alertes)}}function vc(i,t){i&1&&p(0,"span",66)}function bc(i,t){if(i&1&&(o(0,"li")(1,"div",65),R(2,vc,1,0,"span",66),o(3,"div",67)(4,"div")(5,"span"),_(),o(6,"svg",62),p(7,"path",68),a()()(),E(),o(8,"div",69)(9,"div")(10,"p",70),l(11),a()(),o(12,"div",71),l(13),J(14,"date"),a()()()()()),i&2){let e=t.$implicit,n=t.$index,r=t.$count;u(2),T(n!==r-1?2:-1),u(3),O("h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white "+e.bgColor),u(),O("w-5 h-5 "+e.iconColor),u(),I("innerHTML",e.iconPath,Yo),u(4),y(e.description),u(2),M(" ",ae(14,8,e.date,"short")," ")}}var Gi=class i{constructor(t,e,n,r){this.familleService=t;this.quartierService=e;this.projetService=n;this.statistiqueService=r}loading=!1;stats={population:45500,familles:10800,quartiers:12,quartiersActifs:10,projetsActifs:8,budgetUtilise:65};repartitionQuartiers=[{nom:"Pateau Nord",familles:3500,pourcentage:32,color:"bg-blue-500"},{nom:"Plateau",familles:2100,pourcentage:19,color:"bg-green-500"},{nom:"Pateau Centre",familles:5200,pourcentage:49,color:"bg-purple-500"}];projetsStatuts=[{nom:"En cours",nombre:8,pourcentage:50,color:"bg-green-500"},{nom:"Planifi\xE9s",nombre:5,pourcentage:31,color:"bg-blue-500"},{nom:"Termin\xE9s",nombre:3,pourcentage:19,color:"bg-gray-500"}];alertes=[{id:1,titre:"Projet en retard",description:"Le projet de r\xE9novation du march\xE9 central accuse un retard de 2 semaines.",class:"bg-red-50 border-red-400",textClass:"text-red-800",descClass:"text-red-700",iconClass:"text-red-400"},{id:2,titre:"Validation en attente",description:"25 familles sont en attente de validation dans le syst\xE8me.",class:"bg-yellow-50 border-yellow-400",textClass:"text-yellow-800",descClass:"text-yellow-700",iconClass:"text-yellow-400"}];activitesRecentes=[{id:1,description:"Nouvelle famille KOUAME ajout\xE9e dans le quartier Pateau Nord",date:new Date(Date.now()-2*60*60*1e3),bgColor:"bg-blue-500",iconColor:"text-white",iconPath:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},{id:2,description:"Projet d'assainissement Pateau Centre mis \xE0 jour - avancement 75%",date:new Date(Date.now()-4*60*60*1e3),bgColor:"bg-green-500",iconColor:"text-white",iconPath:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},{id:3,description:"Rapport mensuel g\xE9n\xE9r\xE9 pour le quartier Plateau",date:new Date(Date.now()-6*60*60*1e3),bgColor:"bg-purple-500",iconColor:"text-white",iconPath:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z M4 5a2 2 0 012-2v1a1 1 0 001 1h1a1 1 0 001-1V3a2 2 0 012 2v6.586l1.707 1.707a1 1 0 01-1.414 1.414L10 13.414V7a2 2 0 00-2-2H6a2 2 0 00-2 2v6.586l1.707 1.707a1 1 0 01-1.414 1.414L4 13.414V5z"}];ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,setTimeout(()=>{this.loadFamilleStats(),this.loadQuartierStats(),this.loadProjetStats(),this.loading=!1},1e3)}loadFamilleStats(){this.familleService.getStatistiquesFamilles().subscribe({next:t=>{this.stats.familles=t.totalFamilles,this.stats.population=t.totalMembres},error:t=>console.error("Erreur lors du chargement des stats familles:",t)})}loadQuartierStats(){this.quartierService.quartiers$.subscribe({next:t=>{this.stats.quartiers=t.length,this.stats.quartiersActifs=t.filter(e=>e.createdAt).length},error:t=>console.error("Erreur lors du chargement des stats quartiers:",t)})}loadProjetStats(){this.projetService.projets$.subscribe({next:t=>{this.stats.projetsActifs=t.filter(r=>r.statut==="en-cours").length;let e=t.reduce((r,s)=>r+(s.budget||0),0),n=t.reduce((r,s)=>r+(s.budgetDepense||0),0);this.stats.budgetUtilise=e>0?Math.round(n/e*100):0},error:t=>console.error("Erreur lors du chargement des stats projets:",t)})}refreshData(){this.loadDashboardData()}formatNumber(t){return new Intl.NumberFormat("fr-FR").format(t)}static \u0275fac=function(e){return new(e||i)(b(yt),b(on),b(an),b(Aa))};static \u0275cmp=q({type:i,selectors:[["app-dashboard-improved"]],decls:154,vars:11,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow"],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-1","text-sm","text-gray-600"],[1,"flex","space-x-3"],[1,"bg-orange-600","hover:bg-orange-700","text-white","px-4","py-2","rounded-lg","flex","items-center",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","overflow-hidden","shadow","rounded-lg"],[1,"p-5"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-8","h-8","bg-blue-500","rounded-md","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-white"],["d","M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"],[1,"ml-5","w-0","flex-1"],[1,"text-sm","font-medium","text-gray-500","truncate"],[1,"text-lg","font-medium","text-gray-900"],[1,"bg-gray-50","px-5","py-3"],[1,"text-sm"],[1,"text-green-600","font-medium"],[1,"text-gray-500"],[1,"w-8","h-8","bg-green-500","rounded-md","flex","items-center","justify-center"],["d","M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"],[1,"w-8","h-8","bg-purple-500","rounded-md","flex","items-center","justify-center"],["fill-rule","evenodd","d","M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"],[1,"text-blue-600","font-medium"],[1,"w-8","h-8","bg-orange-500","rounded-md","flex","items-center","justify-center"],["fill-rule","evenodd","d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"],[1,"text-orange-600","font-medium"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-8"],[1,"bg-white","shadow","rounded-lg"],[1,"px-4","py-5","sm:p-6"],[1,"text-lg","leading-6","font-medium","text-gray-900","mb-4"],[1,"space-y-3"],[1,"flex","items-center","justify-between"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"text-sm","text-gray-500","mb-4"],["routerLink","/familles/new",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-md","text-sm","font-medium"],["routerLink","/familles",1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-700","px-4","py-2","rounded-md","text-sm","font-medium"],["routerLink","/quartiers/new",1,"w-full","bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded-md","text-sm","font-medium"],["routerLink","/quartiers",1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-700","px-4","py-2","rounded-md","text-sm","font-medium"],["routerLink","/projets/new",1,"w-full","bg-orange-600","hover:bg-orange-700","text-white","px-4","py-2","rounded-md","text-sm","font-medium"],["routerLink","/projets",1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-700","px-4","py-2","rounded-md","text-sm","font-medium"],[1,"bg-white","shadow","rounded-lg","mb-8"],[1,"flow-root"],[1,"-mb-8"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500","mr-2"],[1,"w-20","bg-gray-200","rounded-full","h-2"],[1,"text-xs","text-gray-500","ml-2"],[1,"text-lg","leading-6","font-medium","text-gray-900","mb-4","flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-yellow-500","mr-2"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"],[3,"class"],[1,"flex"],["fill","currentColor","viewBox","0 0 20 20"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"],[1,"ml-3"],[1,"relative","pb-8"],[1,"absolute","top-4","left-4","-ml-px","h-full","w-0.5","bg-gray-200"],[1,"relative","flex","space-x-3"],[3,"innerHTML"],[1,"min-w-0","flex-1","pt-1.5","flex","justify-between","space-x-4"],[1,"text-sm","text-gray-500"],[1,"text-right","text-sm","whitespace-nowrap","text-gray-500"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),l(6,"Tableau de Bord"),a(),o(7,"p",5),l(8,"Vue d'ensemble de la gestion des populations"),a()(),o(9,"div",6)(10,"button",7),g("click",function(){return n.refreshData()}),_(),o(11,"svg",8),p(12,"path",9),a(),l(13),a(),E(),o(14,"button",10),_(),o(15,"svg",11),p(16,"path",12),a(),l(17," Exporter "),a()()()()(),E(),o(18,"div",2)(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18),_(),o(25,"svg",19),p(26,"path",20),a()()(),E(),o(27,"div",21)(28,"dl")(29,"dt",22),l(30,"Population totale"),a(),o(31,"dd",23),l(32),a()()()()(),o(33,"div",24)(34,"div",25)(35,"span",26),l(36,"+5.2%"),a(),o(37,"span",27),l(38," depuis l'ann\xE9e derni\xE8re"),a()()()(),o(39,"div",14)(40,"div",15)(41,"div",16)(42,"div",17)(43,"div",28),_(),o(44,"svg",19),p(45,"path",29),a()()(),E(),o(46,"div",21)(47,"dl")(48,"dt",22),l(49,"Familles"),a(),o(50,"dd",23),l(51),a()()()()(),o(52,"div",24)(53,"div",25)(54,"span",26),l(55,"+3.8%"),a(),o(56,"span",27),l(57," croissance mensuelle"),a()()()(),o(58,"div",14)(59,"div",15)(60,"div",16)(61,"div",17)(62,"div",30),_(),o(63,"svg",19),p(64,"path",31),a()()(),E(),o(65,"div",21)(66,"dl")(67,"dt",22),l(68,"Quartiers"),a(),o(69,"dd",23),l(70),a()()()()(),o(71,"div",24)(72,"div",25)(73,"span",32),l(74),a(),o(75,"span",27),l(76," actifs"),a()()()(),o(77,"div",14)(78,"div",15)(79,"div",16)(80,"div",17)(81,"div",33),_(),o(82,"svg",19),p(83,"path",34),a()()(),E(),o(84,"div",21)(85,"dl")(86,"dt",22),l(87,"Projets actifs"),a(),o(88,"dd",23),l(89),a()()()()(),o(90,"div",24)(91,"div",25)(92,"span",35),l(93),a(),o(94,"span",27),l(95," budget utilis\xE9"),a()()()()(),o(96,"div",36)(97,"div",37)(98,"div",38)(99,"h3",39),l(100," R\xE9partition des familles par quartier "),a(),o(101,"div",40),ee(102,pc,12,9,"div",41,bl),a()()(),o(104,"div",37)(105,"div",38)(106,"h3",39),l(107," \xC9tat des projets "),a(),o(108,"div",40),ee(109,hc,12,9,"div",41,bl),a()()()(),o(111,"div",42)(112,"div",37)(113,"div",38)(114,"h3",39),l(115," Gestion des Familles "),a(),o(116,"p",43),l(117," Ajouter, modifier ou consulter les informations des familles "),a(),o(118,"div",40)(119,"button",44),l(120," Nouvelle famille "),a(),o(121,"button",45),l(122," Voir toutes les familles "),a()()()(),o(123,"div",37)(124,"div",38)(125,"h3",39),l(126," Gestion des Quartiers "),a(),o(127,"p",43),l(128," G\xE9rer les informations et statistiques des quartiers "),a(),o(129,"div",40)(130,"button",46),l(131," Nouveau quartier "),a(),o(132,"button",47),l(133," Voir tous les quartiers "),a()()()(),o(134,"div",37)(135,"div",38)(136,"h3",39),l(137," Gestion des Projets "),a(),o(138,"p",43),l(139," Suivre et g\xE9rer les projets municipaux "),a(),o(140,"div",40)(141,"button",48),l(142," Nouveau projet "),a(),o(143,"button",49),l(144," Voir tous les projets "),a()()()()(),R(145,gc,9,0,"div",50),o(146,"div",37)(147,"div",38)(148,"h3",39),l(149," Activit\xE9s r\xE9centes "),a(),o(150,"div",51)(151,"ul",52),ee(152,bc,15,11,"li",null,yl),a()()()()()()),e&2&&(u(10),I("disabled",n.loading),u(),O(n.loading?"animate-spin w-4 h-4 mr-2":"w-4 h-4 mr-2"),u(2),M(" ",n.loading?"Actualisation...":"Actualiser"," "),u(19),y(n.formatNumber(n.stats.population)),u(19),y(n.formatNumber(n.stats.familles)),u(19),y(n.stats.quartiers),u(4),y(n.stats.quartiersActifs),u(15),y(n.stats.projetsActifs),u(4),M("",n.stats.budgetUtilise,"%"),u(9),te(n.repartitionQuartiers),u(7),te(n.projetsStatuts),u(36),T(n.alertes&&n.alertes.length>0?145:-1),u(7),te(n.activitesRecentes))},dependencies:[z,it,ke,Ne],styles:[".container[_ngcontent-%COMP%]{max-width:1400px}"]})};var yc=(i,t)=>t.id;function xc(i,t){i&1&&(o(0,"div",24),p(1,"div",27),o(2,"p",28),l(3,"Chargement..."),a()())}function _c(i,t){i&1&&(o(0,"div",24),_(),o(1,"svg",29),p(2,"path",30),a(),E(),o(3,"h3",31),l(4,"Aucune famille trouv\xE9e"),a(),o(5,"p",32),l(6,"Commencez par ajouter une nouvelle famille."),a()())}function Cc(i,t){if(i&1){let e=P();o(0,"tr",37)(1,"td",38)(2,"div",39),l(3),a(),o(4,"div",40),l(5),a()(),o(6,"td",38)(7,"div",39),l(8),a(),o(9,"div",40),l(10),a()(),o(11,"td",38)(12,"div",41),l(13),a(),o(14,"div",40),l(15),a()(),o(16,"td",38)(17,"span",42),l(18),a()(),o(19,"td",38)(20,"span"),l(21),a()(),o(22,"td",43)(23,"div",44)(24,"button",45),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.viewFamille(r))}),l(25," Voir "),a(),o(26,"button",46),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.editFamille(r))}),l(27," Modifier "),a(),o(28,"button",47),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.deleteFamille(r))}),l(29," Supprimer "),a()()()()}if(i&2){let e=t.$implicit,n=f(2);u(3),y(e.nomFamille),u(2),y(e.numeroCompte),u(3),ce(" ",e.chefFamille.nom," ",e.chefFamille.prenoms," "),u(2),y(e.chefFamille.telephone),u(3),y(e.adresse.quartier),u(2),y(e.adresse.rue),u(3),M(" ",e.nombreMembres," membres "),u(2),O(n.getStatutClass(e.statutValidation)),u(),M(" ",e.statutValidation," ")}}function Sc(i,t){if(i&1&&(o(0,"div",25)(1,"table",33)(2,"thead",34)(3,"tr")(4,"th",35),l(5," Famille "),a(),o(6,"th",35),l(7," Chef de famille "),a(),o(8,"th",35),l(9," Quartier "),a(),o(10,"th",35),l(11," Membres "),a(),o(12,"th",35),l(13," Statut "),a(),o(14,"th",35),l(15," Actions "),a()()(),o(16,"tbody",36),ee(17,Cc,30,11,"tr",37,yc),a()()()),i&2){let e=f();u(17),te(e.filteredFamilles)}}function wc(i,t){if(i&1){let e=P();o(0,"div",26)(1,"div",48)(2,"div",49)(3,"h3",23),l(4),a(),o(5,"button",50),g("click",function(){S(e);let r=f();return w(r.closeModal())}),_(),o(6,"svg",51),p(7,"path",52),a()()(),E(),o(8,"form",53),g("ngSubmit",function(){S(e);let r=f();return w(r.saveFamille())}),o(9,"div",54)(10,"div")(11,"label",9),l(12,"Nom de famille"),a(),p(13,"input",55),a(),o(14,"div")(15,"label",9),l(16,"Num\xE9ro de compte"),a(),p(17,"input",56),a()(),o(18,"div",57)(19,"h4",58),l(20,"Adresse"),a(),o(21,"div",54)(22,"div")(23,"label",9),l(24,"Rue"),a(),p(25,"input",59),a(),o(26,"div")(27,"label",9),l(28,"Quartier"),a(),o(29,"select",60)(30,"option",12),l(31,"S\xE9lectionner un quartier"),a(),o(32,"option",13),l(33,"Pateau Nord"),a(),o(34,"option",14),l(35,"Plateau"),a(),o(36,"option",15),l(37,"Pateau Centre"),a()()(),o(38,"div")(39,"label",9),l(40,"Code postal"),a(),p(41,"input",61),a(),o(42,"div")(43,"label",9),l(44,"Ville"),a(),p(45,"input",62),a()()(),o(46,"div",63)(47,"button",64),g("click",function(){S(e);let r=f();return w(r.closeModal())}),l(48," Annuler "),a(),o(49,"button",65),l(50),a()()()()()}if(i&2){let e=f();u(4),M(" ",e.editingFamille?"Modifier la famille":"Nouvelle famille"," "),u(4),I("formGroup",e.familleForm),u(41),I("disabled",!e.familleForm.valid||e.saving),u(),M(" ",e.saving?"Enregistrement...":"Enregistrer"," ")}}var Xn=class i{constructor(t,e,n){this.familleService=t;this.fb=e;this.router=n;this.familleForm=this.fb.group({nomFamille:["",[C.required]],numeroCompte:[""],rue:["",[C.required]],quartier:["",[C.required]],codePostal:["01"],ville:["Abidjan"]})}familles=[];filteredFamilles=[];loading=!1;showModal=!1;editingFamille=null;saving=!1;searchCriteria={nom:"",quartier:"",statut:""};familleForm;ngOnInit(){this.loadFamilles()}loadFamilles(){this.loading=!0,this.familleService.getAllFamilles().subscribe({next:t=>{this.familles=t,this.filteredFamilles=t,this.loading=!1},error:t=>{console.error("Erreur lors du chargement des familles:",t),this.loading=!1}})}onSearch(){this.familleService.searchFamilles(this.searchCriteria).subscribe({next:t=>{this.filteredFamilles=t}})}resetSearch(){this.searchCriteria={nom:"",quartier:"",statut:""},this.filteredFamilles=this.familles}openCreateModal(){this.editingFamille=null,this.familleForm.reset(),this.familleForm.patchValue({codePostal:"01",ville:"Abidjan"}),this.showModal=!0}editFamille(t){this.editingFamille=t,this.familleForm.patchValue({nomFamille:t.nomFamille,numeroCompte:t.numeroCompte,rue:t.adresse.rue,quartier:t.adresse.quartier,codePostal:t.adresse.codePostal,ville:t.adresse.ville}),this.showModal=!0}viewFamille(t){this.router.navigate(["/familles",t.id])}deleteFamille(t){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer la famille ${t.nomFamille} ?`)&&this.familleService.deleteFamille(t.id).subscribe({next:()=>{this.loadFamilles()},error:e=>{console.error("Erreur lors de la suppression:",e),alert("Erreur lors de la suppression de la famille")}})}saveFamille(){if(this.familleForm.valid){this.saving=!0;let t=this.familleForm.value,e={nomFamille:t.nomFamille,numeroCompte:t.numeroCompte,adresse:{rue:t.rue,quartier:t.quartier,codePostal:t.codePostal,ville:t.ville},chefFamille:this.editingFamille?.chefFamille||this.createDefaultChef(t.nomFamille),membres:this.editingFamille?.membres||[],nombreMembres:this.editingFamille?.nombreMembres||0,dateCreation:new Date,statutValidation:this.editingFamille?.statutValidation||"Brouillon",revenusEstimes:this.editingFamille?.revenusEstimes,typeLogement:this.editingFamille?.typeLogement,sourceEau:this.editingFamille?.sourceEau,sourceElectricite:this.editingFamille?.sourceElectricite,evacuationEaux:this.editingFamille?.evacuationEaux,observations:this.editingFamille?.observations};(this.editingFamille?this.familleService.updateFamille(this.editingFamille.id,e):this.familleService.createFamille(e)).subscribe({next:()=>{this.saving=!1,this.closeModal(),this.loadFamilles()},error:r=>{console.error("Erreur lors de la sauvegarde:",r),this.saving=!1,alert("Erreur lors de la sauvegarde")}})}}closeModal(){this.showModal=!1,this.editingFamille=null,this.familleForm.reset()}getStatutClass(t){let e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(t){case"Valid\xE9":return`${e} bg-green-100 text-green-800`;case"Brouillon":return`${e} bg-yellow-100 text-yellow-800`;case"Archiv\xE9":return`${e} bg-gray-100 text-gray-800`;default:return`${e} bg-gray-100 text-gray-800`}}createDefaultChef(t){return{id:"",nom:t,prenoms:"",sexe:"M",dateNaissance:new Date,lieuNaissance:"",nationalite:"Ivoirienne",estChefFamille:!0,estActif:!0,dateEnregistrement:new Date,dateMiseAJour:new Date}}static \u0275fac=function(e){return new(e||i)(b(yt),b(je),b(K))};static \u0275cmp=q({type:i,selectors:[["app-famille-list"]],decls:52,vars:6,consts:[[1,"container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"bg-orange-600","hover:bg-orange-700","text-white","px-4","py-2","rounded-lg","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-white","rounded-lg","shadow","p-4","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Rechercher par nom...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["value",""],["value","Pateau Nord"],["value","Plateau"],["value","Pateau Centre"],["value","Valid\xE9"],["value","Brouillon"],["value","Archiv\xE9"],[1,"flex","items-end"],[1,"w-full","bg-gray-500","hover:bg-gray-600","text-white","px-4","py-2","rounded-md",3,"click"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"px-4","py-3","border-b","border-gray-200","bg-gray-50"],[1,"text-lg","font-medium","text-gray-900"],[1,"p-8","text-center"],[1,"overflow-x-auto"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-orange-600","mx-auto"],[1,"mt-2","text-gray-600"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","space-x-2"],[1,"text-blue-600","hover:text-blue-900",3,"click"],[1,"text-orange-600","hover:text-orange-900",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"],[1,"relative","top-20","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","text","formControlName","nomFamille",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","text","formControlName","numeroCompte",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"border-t","pt-4"],[1,"text-md","font-medium","text-gray-900","mb-3"],["type","text","formControlName","rue",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","quartier",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","text","formControlName","codePostal",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","text","formControlName","ville","value","Abidjan",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"flex","justify-end","space-x-3","pt-4","border-t"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],["type","submit",1,"px-4","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:opacity-50",3,"disabled"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),l(4,"Gestion des Familles"),a(),o(5,"p",3),l(6,"G\xE9rer les familles et leurs membres"),a()(),o(7,"button",4),g("click",function(){return n.openCreateModal()}),_(),o(8,"svg",5),p(9,"path",6),a(),l(10," Nouvelle Famille "),a()(),E(),o(11,"div",7)(12,"div",8)(13,"div")(14,"label",9),l(15,"Nom de famille"),a(),o(16,"input",10),re("ngModelChange",function(s){return ne(n.searchCriteria.nom,s)||(n.searchCriteria.nom=s),s}),g("ngModelChange",function(){return n.onSearch()}),a()(),o(17,"div")(18,"label",9),l(19,"Quartier"),a(),o(20,"select",11),re("ngModelChange",function(s){return ne(n.searchCriteria.quartier,s)||(n.searchCriteria.quartier=s),s}),g("ngModelChange",function(){return n.onSearch()}),o(21,"option",12),l(22,"Tous les quartiers"),a(),o(23,"option",13),l(24,"Pateau Nord"),a(),o(25,"option",14),l(26,"Plateau"),a(),o(27,"option",15),l(28,"Pateau Centre"),a()()(),o(29,"div")(30,"label",9),l(31,"Statut"),a(),o(32,"select",11),re("ngModelChange",function(s){return ne(n.searchCriteria.statut,s)||(n.searchCriteria.statut=s),s}),g("ngModelChange",function(){return n.onSearch()}),o(33,"option",12),l(34,"Tous les statuts"),a(),o(35,"option",16),l(36,"Valid\xE9"),a(),o(37,"option",17),l(38,"Brouillon"),a(),o(39,"option",18),l(40,"Archiv\xE9"),a()()(),o(41,"div",19)(42,"button",20),g("click",function(){return n.resetSearch()}),l(43," R\xE9initialiser "),a()()()(),o(44,"div",21)(45,"div",22)(46,"h3",23),l(47),a()(),R(48,xc,4,0,"div",24)(49,_c,7,0,"div",24)(50,Sc,19,0,"div",25),a(),R(51,wc,51,4,"div",26),a()),e&2&&(u(16),ie("ngModel",n.searchCriteria.nom),u(4),ie("ngModel",n.searchCriteria.quartier),u(12),ie("ngModel",n.searchCriteria.statut),u(15),M(" Familles (",n.filteredFamilles.length,") "),u(),T(n.loading?48:n.filteredFamilles.length===0?49:50),u(3),T(n.showModal?51:-1))},dependencies:[z,he,xe,Pe,Oe,me,_e,pe,ye,$e,Le,Ae,Ie],styles:[".container[_ngcontent-%COMP%]{max-width:1200px}"]})};var xl=()=>["/familles"],Ec=(i,t)=>t.id;function Mc(i,t){i&1&&(o(0,"div",1),p(1,"div",3),o(2,"span",4),l(3,"Chargement..."),a()())}function Dc(i,t){if(i&1&&(o(0,"div")(1,"span",17),l(2,"T\xE9l\xE9phone"),a(),o(3,"p",19),l(4),a()()),i&2){let e=f(2);u(4),y(e.famille.chefFamille.telephone)}}function Ac(i,t){if(i&1&&(o(0,"div")(1,"span",17),l(2,"Email"),a(),o(3,"p",19),l(4),a()()),i&2){let e=f(2);u(4),y(e.famille.chefFamille.email)}}function Ic(i,t){i&1&&(o(0,"div",29),_(),o(1,"svg",32),p(2,"path",33),a(),E(),o(3,"h3",34),l(4,"Aucun membre ajout\xE9"),a(),o(5,"p",35),l(6,"Commencez par ajouter les membres de cette famille."),a()())}function Rc(i,t){i&1&&(o(0,"span",43),l(1," Chef de famille "),a())}function Tc(i,t){if(i&1){let e=P();o(0,"button",48),g("click",function(){S(e);let r=f().$implicit,s=f(3);return w(s.deleteMembre(r))}),l(1," Supprimer "),a()}}function Fc(i,t){if(i&1){let e=P();o(0,"tr",40)(1,"td",41)(2,"div",42),l(3),a(),R(4,Rc,2,0,"span",43),a(),o(5,"td",44),l(6),a(),o(7,"td",44),l(8),a(),o(9,"td",44),l(10),a(),o(11,"td",41)(12,"span"),l(13),a()(),o(14,"td",45)(15,"div",10)(16,"button",46),g("click",function(){let r=S(e).$implicit,s=f(3);return w(s.editMembre(r))}),l(17," Modifier "),a(),R(18,Tc,2,0,"button",47),a()()()}if(i&2){let e=t.$implicit,n=f(3);u(3),ce("",e.nom," ",e.prenoms),u(),T(e.estChefFamille?4:-1),u(2),M(" ",e.sexe==="M"?"Masculin":"F\xE9minin"," "),u(2),M(" ",n.getAge(e.dateNaissance)," ans "),u(2),M(" ",e.relationChef||"Non d\xE9finie"," "),u(2),O(e.estActif?"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800":"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"),u(),M(" ",e.estActif?"Actif":"Inactif"," "),u(5),T(e.estChefFamille?-1:18)}}function Nc(i,t){if(i&1&&(o(0,"div",30)(1,"table",36)(2,"thead",37)(3,"tr")(4,"th",38),l(5,"Nom complet"),a(),o(6,"th",38),l(7,"Sexe"),a(),o(8,"th",38),l(9,"\xC2ge"),a(),o(10,"th",38),l(11,"Relation"),a(),o(12,"th",38),l(13,"Statut"),a(),o(14,"th",38),l(15,"Actions"),a()()(),o(16,"tbody",39),ee(17,Fc,19,10,"tr",40,Ec),a()()()),i&2){let e=f(2);u(17),te(e.famille.membres)}}function Vc(i,t){if(i&1){let e=P();o(0,"div",31)(1,"div",49)(2,"div",25)(3,"h3",50),l(4),a(),o(5,"button",51),g("click",function(){S(e);let r=f(2);return w(r.closeMembreModal())}),_(),o(6,"svg",52),p(7,"path",53),a()()(),E(),o(8,"form",54),g("ngSubmit",function(){S(e);let r=f(2);return w(r.saveMembre())}),o(9,"div",55)(10,"div")(11,"label",56),l(12,"Nom *"),a(),p(13,"input",57),a(),o(14,"div")(15,"label",56),l(16,"Pr\xE9noms *"),a(),p(17,"input",58),a(),o(18,"div")(19,"label",56),l(20,"Sexe *"),a(),o(21,"select",59)(22,"option",60),l(23,"S\xE9lectionner"),a(),o(24,"option",61),l(25,"Masculin"),a(),o(26,"option",62),l(27,"F\xE9minin"),a()()(),o(28,"div")(29,"label",56),l(30,"Date de naissance *"),a(),p(31,"input",63),a(),o(32,"div")(33,"label",56),l(34,"Lieu de naissance"),a(),p(35,"input",64),a(),o(36,"div")(37,"label",56),l(38,"Nationalit\xE9"),a(),p(39,"input",65),a(),o(40,"div")(41,"label",56),l(42,"Relation avec le chef"),a(),o(43,"select",66)(44,"option",60),l(45,"S\xE9lectionner"),a(),o(46,"option",67),l(47,"\xC9poux/\xC9pouse"),a(),o(48,"option",68),l(49,"Fils/Fille"),a(),o(50,"option",69),l(51,"P\xE8re/M\xE8re"),a(),o(52,"option",70),l(53,"Fr\xE8re/S\u0153ur"),a(),o(54,"option",71),l(55,"Grand-parent"),a(),o(56,"option",72),l(57,"Petit-enfant"),a(),o(58,"option",73),l(59,"Autre"),a()()(),o(60,"div")(61,"label",56),l(62,"T\xE9l\xE9phone"),a(),p(63,"input",74),a(),o(64,"div",75)(65,"label",56),l(66,"Email"),a(),p(67,"input",76),a()(),o(68,"div",77)(69,"button",78),g("click",function(){S(e);let r=f(2);return w(r.closeMembreModal())}),l(70," Annuler "),a(),o(71,"button",79),l(72),a()()()()()}if(i&2){let e=f(2);u(4),M(" ",e.editingMembre?"Modifier le membre":"Ajouter un membre"," "),u(4),I("formGroup",e.membreForm),u(63),I("disabled",e.membreForm.invalid),u(),M(" ",e.editingMembre?"Modifier":"Ajouter"," ")}}function kc(i,t){if(i&1){let e=P();o(0,"div",5)(1,"div",6)(2,"div")(3,"h1",7),l(4),a(),o(5,"p",8),l(6),a(),o(7,"div",9)(8,"span"),l(9),a()()(),o(10,"div",10)(11,"button",11),g("click",function(){S(e);let r=f();return w(r.editFamille())}),l(12," Modifier "),a(),o(13,"button",12),l(14," Retour "),a()()()(),o(15,"div",13)(16,"div",14)(17,"h2",15),l(18,"Informations g\xE9n\xE9rales"),a(),o(19,"div",16)(20,"div")(21,"span",17),l(22,"Nombre de membres"),a(),o(23,"p",18),l(24),a()(),o(25,"div")(26,"span",17),l(27,"Date de cr\xE9ation"),a(),o(28,"p",19),l(29),J(30,"date"),a()(),o(31,"div")(32,"span",17),l(33,"Derni\xE8re mise \xE0 jour"),a(),o(34,"p",19),l(35),J(36,"date"),a()()()(),o(37,"div",14)(38,"h2",15),l(39,"Adresse"),a(),o(40,"div",20)(41,"p",19),l(42),a(),o(43,"p",8),l(44),a(),o(45,"p",8),l(46),a()()(),o(47,"div",14)(48,"h2",15),l(49,"Statistiques"),a(),o(50,"div",16)(51,"div",21)(52,"span",22),l(53,"Hommes"),a(),o(54,"span",23),l(55),a()(),o(56,"div",21)(57,"span",22),l(58,"Femmes"),a(),o(59,"span",23),l(60),a()(),o(61,"div",21)(62,"span",22),l(63,"Enfants (< 18 ans)"),a(),o(64,"span",23),l(65),a()(),o(66,"div",21)(67,"span",22),l(68,"Adultes (\u2265 18 ans)"),a(),o(69,"span",23),l(70),a()()()()(),o(71,"div",5)(72,"h2",15),l(73,"Chef de famille"),a(),o(74,"div",24)(75,"div")(76,"span",17),l(77,"Nom complet"),a(),o(78,"p",19),l(79),a()(),o(80,"div")(81,"span",17),l(82,"Sexe"),a(),o(83,"p",19),l(84),a()(),o(85,"div")(86,"span",17),l(87,"Date de naissance"),a(),o(88,"p",19),l(89),J(90,"date"),a()(),o(91,"div")(92,"span",17),l(93,"\xC2ge"),a(),o(94,"p",19),l(95),a()(),o(96,"div")(97,"span",17),l(98,"Lieu de naissance"),a(),o(99,"p",19),l(100),a()(),o(101,"div")(102,"span",17),l(103,"Nationalit\xE9"),a(),o(104,"p",19),l(105),a()(),R(106,Dc,5,1,"div"),R(107,Ac,5,1,"div"),a()(),o(108,"div",14)(109,"div",25)(110,"h2",18),l(111,"Membres de la famille"),a(),o(112,"button",26),g("click",function(){S(e);let r=f();return w(r.openAddMembreModal())}),_(),o(113,"svg",27),p(114,"path",28),a(),l(115," Ajouter un membre "),a()(),R(116,Ic,7,0,"div",29)(117,Nc,19,0,"div",30),a(),R(118,Vc,73,4,"div",31)}if(i&2){let e=f();u(4),y(e.famille.nomFamille),u(2),y(e.famille.numeroCompte),u(2),O(e.getStatutClass(e.famille.statutValidation)),u(),M(" ",e.famille.statutValidation," "),u(4),I("routerLink",Mr(37,xl)),u(11),y(e.famille.nombreMembres),u(5),y(ae(30,28,e.famille.dateCreation,"dd/MM/yyyy")),u(6),y(ae(36,31,e.famille.dateMiseAJour,"dd/MM/yyyy \xE0 HH:mm")),u(7),y(e.famille.adresse.rue),u(2),y(e.famille.adresse.quartier),u(2),ce("",e.famille.adresse.codePostal," ",e.famille.adresse.ville),u(9),y(e.getStatistiques().hommes),u(5),y(e.getStatistiques().femmes),u(5),y(e.getStatistiques().enfants),u(5),y(e.getStatistiques().adultes),u(9),ce("",e.famille.chefFamille.nom," ",e.famille.chefFamille.prenoms),u(5),y(e.famille.chefFamille.sexe==="M"?"Masculin":"F\xE9minin"),u(5),y(ae(90,34,e.famille.chefFamille.dateNaissance,"dd/MM/yyyy")),u(6),M("",e.getAge(e.famille.chefFamille.dateNaissance)," ans"),u(5),y(e.famille.chefFamille.lieuNaissance),u(5),y(e.famille.chefFamille.nationalite),u(),T(e.famille.chefFamille.telephone?106:-1),u(),T(e.famille.chefFamille.email?107:-1),u(9),T(e.famille.membres.length===0?116:117),u(2),T(e.showMembreModal?118:-1)}}function Pc(i,t){i&1&&(o(0,"div",2)(1,"h3",50),l(2,"Famille non trouv\xE9e"),a(),o(3,"p",35),l(4,"Cette famille n'existe pas ou a \xE9t\xE9 supprim\xE9e."),a(),o(5,"button",80),l(6," Retour \xE0 la liste "),a()()),i&2&&(u(5),I("routerLink",Mr(1,xl)))}var er=class i{constructor(t,e,n,r){this.route=t;this.router=e;this.familleService=n;this.fb=r;this.membreForm=this.fb.group({nom:["",C.required],prenoms:["",C.required],sexe:["",C.required],dateNaissance:["",C.required],lieuNaissance:[""],nationalite:["Ivoirienne"],relationChef:[""],telephone:[""],email:[""]})}famille=null;loading=!0;showMembreModal=!1;editingMembre=null;membreForm;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadFamille(t)}loadFamille(t){this.loading=!0,this.familleService.getFamilleById(t).subscribe({next:e=>{this.famille=e,this.loading=!1},error:e=>{console.error("Erreur lors du chargement de la famille:",e),this.loading=!1}})}editFamille(){this.famille&&this.router.navigate(["/familles",this.famille.id,"edit"])}getStatutClass(t){let e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(t){case"Valid\xE9":return`${e} bg-green-100 text-green-800`;case"Brouillon":return`${e} bg-yellow-100 text-yellow-800`;case"Archiv\xE9":return`${e} bg-gray-100 text-gray-800`;default:return`${e} bg-gray-100 text-gray-800`}}getAge(t){let e=new Date,n=new Date(t),r=e.getFullYear()-n.getFullYear(),s=e.getMonth()-n.getMonth();return(s<0||s===0&&e.getDate()<n.getDate())&&r--,r}getStatistiques(){if(!this.famille)return{hommes:0,femmes:0,enfants:0,adultes:0};let t=this.famille.membres.filter(s=>s.sexe==="M").length,e=this.famille.membres.filter(s=>s.sexe==="F").length,n=this.famille.membres.filter(s=>this.getAge(s.dateNaissance)<18).length,r=this.famille.membres.filter(s=>this.getAge(s.dateNaissance)>=18).length;return{hommes:t,femmes:e,enfants:n,adultes:r}}openAddMembreModal(){this.editingMembre=null,this.membreForm.reset(),this.membreForm.patchValue({nationalite:"Ivoirienne"}),this.showMembreModal=!0}editMembre(t){this.editingMembre=t,this.membreForm.patchValue({nom:t.nom,prenoms:t.prenoms,sexe:t.sexe,dateNaissance:this.formatDateForInput(t.dateNaissance),lieuNaissance:t.lieuNaissance,nationalite:t.nationalite,relationChef:t.relationChef,telephone:t.telephone,email:t.email}),this.showMembreModal=!0}saveMembre(){if(this.membreForm.valid&&this.famille){let t=this.membreForm.value,e={nom:t.nom,prenoms:t.prenoms,sexe:t.sexe,dateNaissance:new Date(t.dateNaissance),lieuNaissance:t.lieuNaissance||"",nationalite:t.nationalite||"Ivoirienne",relationChef:t.relationChef,telephone:t.telephone,email:t.email,estChefFamille:!1,estActif:!0};this.editingMembre?this.familleService.updateMembre(this.famille.id,this.editingMembre.id,e).subscribe({next:()=>{this.loadFamille(this.famille.id),this.closeMembreModal()},error:n=>console.error("Erreur lors de la modification:",n)}):this.familleService.addMembreToFamille(this.famille.id,e).subscribe({next:()=>{this.loadFamille(this.famille.id),this.closeMembreModal()},error:n=>console.error("Erreur lors de l'ajout:",n)})}}deleteMembre(t){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer ${t.nom} ${t.prenoms} ?`)&&this.famille&&this.familleService.deleteMembre(this.famille.id,t.id).subscribe({next:()=>{this.loadFamille(this.famille.id)},error:e=>console.error("Erreur lors de la suppression:",e)})}closeMembreModal(){this.showMembreModal=!1,this.editingMembre=null,this.membreForm.reset()}formatDateForInput(t){return new Date(t).toISOString().split("T")[0]}static \u0275fac=function(e){return new(e||i)(b(Ve),b(K),b(yt),b(je))};static \u0275cmp=q({type:i,selectors:[["app-famille-detail"]],decls:4,vars:1,consts:[[1,"container","mx-auto","p-6"],[1,"flex","justify-center","items-center","h-64"],[1,"text-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-orange-600"],[1,"ml-2","text-gray-600"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"flex","justify-between","items-start"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"mt-2"],[1,"flex","space-x-2"],[1,"px-4","py-2","bg-orange-600","text-white","rounded-lg","hover:bg-orange-700",3,"click"],[1,"px-4","py-2","bg-gray-500","text-white","rounded-lg","hover:bg-gray-600",3,"routerLink"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6","mb-6"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"space-y-3"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-900"],[1,"space-y-2"],[1,"flex","justify-between"],[1,"text-sm","text-gray-500"],[1,"font-medium"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"flex","justify-between","items-center","mb-4"],[1,"px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-700","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-center","py-8"],[1,"overflow-x-auto"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-blue-100","text-blue-800"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-orange-600","hover:text-orange-900",3,"click"],[1,"text-red-600","hover:text-red-900"],[1,"text-red-600","hover:text-red-900",3,"click"],[1,"relative","top-20","mx-auto","p-5","border","w-11/12","md:w-2/3","lg:w-1/2","shadow-lg","rounded-md","bg-white"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","nom","type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","prenoms","type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","sexe",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["value",""],["value","M"],["value","F"],["formControlName","dateNaissance","type","date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","lieuNaissance","type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","nationalite","type","text","value","Ivoirienne",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","relationChef",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["value","\xC9poux/\xC9pouse"],["value","Fils/Fille"],["value","P\xE8re/M\xE8re"],["value","Fr\xE8re/S\u0153ur"],["value","Grand-parent"],["value","Petit-enfant"],["value","Autre"],["formControlName","telephone","type","tel",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"md:col-span-2"],["formControlName","email","type","email",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"flex","justify-end","space-x-3","mt-6"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],["type","submit",1,"px-4","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:opacity-50",3,"disabled"],[1,"mt-4","px-4","py-2","bg-orange-600","text-white","rounded-lg","hover:bg-orange-700",3,"routerLink"]],template:function(e,n){e&1&&(o(0,"div",0),R(1,Mc,4,0,"div",1)(2,kc,119,38)(3,Pc,7,2,"div",2),a()),e&2&&(u(),T(n.loading?1:n.famille?2:3))},dependencies:[z,he,xe,Pe,Oe,me,_e,pe,ye,Le,Ae,Ie,it,ke,Ne],encapsulation:2})};var Oc=(i,t)=>t.id;function jc(i,t){i&1&&(o(0,"div",15),p(1,"div",18),o(2,"span",19),l(3,"Chargement..."),a()())}function Lc(i,t){i&1&&(o(0,"div",16),_(),o(1,"svg",20),p(2,"path",21),a(),E(),o(3,"h3",22),l(4,"Aucun quartier trouv\xE9"),a(),o(5,"p",23),l(6,"Commencez par ajouter un nouveau quartier."),a()())}function Uc(i,t){if(i&1&&(o(0,"span",50),l(1),a()),i&2){let e=f().$implicit;u(),M(" Eau: ",e.services==null?null:e.services.eau_courante,"% ")}}function Hc(i,t){if(i&1&&(o(0,"span",51),l(1),a()),i&2){let e=f().$implicit;u(),M(" \xC9lectricit\xE9: ",e.services==null?null:e.services.electricite,"% ")}}function Bc(i,t){if(i&1&&(o(0,"span",52),l(1),a()),i&2){let e=f().$implicit;u(),M(" Internet: ",e.services==null?null:e.services.internet,"% ")}}function qc(i,t){if(i&1&&(o(0,"span",53),l(1),a()),i&2){let e=f().$implicit;u(),M(" Assainissement: ",e.services==null?null:e.services.assainissement,"% ")}}function $c(i,t){if(i&1){let e=P();o(0,"div",24)(1,"div",25)(2,"div",26)(3,"div")(4,"h3",27),l(5),a(),o(6,"p",28),l(7),a()(),o(8,"span",29),l(9," Actif "),a()(),o(10,"p",30),l(11),a()(),o(12,"div",31)(13,"div",32)(14,"div",33)(15,"div",34),l(16),J(17,"number"),a(),o(18,"div",35),l(19,"Population"),a()(),o(20,"div",33)(21,"div",36),l(22),J(23,"number"),a(),o(24,"div",35),l(25,"Familles"),a()()(),o(26,"div",32)(27,"div",33)(28,"div",37),l(29),J(30,"number"),a(),o(31,"div",35),l(32,"Superficie"),a()(),o(33,"div",33)(34,"div",38),l(35),J(36,"number"),a(),o(37,"div",35),l(38,"Hab/km\xB2"),a()()(),o(39,"div",39)(40,"div",40),l(41,"Chef de quartier"),a(),o(42,"div",41),l(43),a(),o(44,"div",35),l(45),a()(),o(46,"div",42)(47,"div",43),l(48,"Infrastructures"),a(),o(49,"div",44)(50,"div",33)(51,"div",45),l(52),a(),o(53,"div",46),l(54,"\xC9coles"),a()(),o(55,"div",33)(56,"div",47),l(57),a(),o(58,"div",46),l(59,"Sant\xE9"),a()(),o(60,"div",33)(61,"div",48),l(62),a(),o(63,"div",46),l(64,"March\xE9s"),a()()()(),o(65,"div",42)(66,"div",43),l(67,"Services disponibles (%)"),a(),o(68,"div",49),R(69,Uc,2,1,"span",50),R(70,Hc,2,1,"span",51),R(71,Bc,2,1,"span",52),R(72,qc,2,1,"span",53),a()()(),o(73,"div",54)(74,"button",55),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.viewQuartier(r))}),l(75," Voir d\xE9tails "),a(),o(76,"div",56)(77,"button",57),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.editQuartier(r))}),l(78," Modifier "),a(),o(79,"button",58),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.deleteQuartier(r))}),l(80," Supprimer "),a()()()()}if(i&2){let e=t.$implicit;u(5),y(e.nom),u(2),y(e.code||"Q-"+e.id),u(4),y(e.description),u(5),y(nn(17,17,e.population)),u(6),y(nn(23,19,e.nombreFamilles)),u(7),M("",nn(30,21,e.superficie)," m\xB2"),u(6),M(" ",ae(36,23,e.population/e.superficie*1e6,"1.0-1")," "),u(8),ce("",e.chef.nom," ",e.chef.prenoms),u(2),y(e.chef.telephone),u(7),y((e.infrastructures==null?null:e.infrastructures.ecoles)||0),u(5),y((e.infrastructures==null?null:e.infrastructures.centres_sante)||0),u(5),y((e.infrastructures==null?null:e.infrastructures.marches)||0),u(7),T(e.services!=null&&e.services.eau_courante?69:-1),u(),T(e.services!=null&&e.services.electricite?70:-1),u(),T(e.services!=null&&e.services.internet?71:-1),u(),T(e.services!=null&&e.services.assainissement?72:-1)}}function Gc(i,t){if(i&1&&ee(0,$c,81,26,"div",24,Oc),i&2){let e=f();te(e.filteredQuartiers)}}function zc(i,t){if(i&1){let e=P();o(0,"div",17)(1,"div",59)(2,"div",60)(3,"h3",61),l(4),a(),o(5,"button",62),g("click",function(){S(e);let r=f();return w(r.closeModal())}),_(),o(6,"svg",63),p(7,"path",64),a()()(),E(),o(8,"form",65),g("ngSubmit",function(){S(e);let r=f();return w(r.saveQuartier())}),o(9,"div",66)(10,"div")(11,"label",9),l(12,"Nom du quartier *"),a(),p(13,"input",67),a(),o(14,"div")(15,"label",9),l(16,"Code"),a(),p(17,"input",68),a()(),o(18,"div")(19,"label",9),l(20,"Description"),a(),p(21,"textarea",69),a(),o(22,"div",70)(23,"h4",71),l(24,"Donn\xE9es d\xE9mographiques"),a(),o(25,"div",8)(26,"div")(27,"label",9),l(28,"Population *"),a(),p(29,"input",72),a(),o(30,"div")(31,"label",9),l(32,"Nombre de familles *"),a(),p(33,"input",73),a(),o(34,"div")(35,"label",9),l(36,"Superficie (m\xB2) *"),a(),p(37,"input",74),a()()(),o(38,"div",70)(39,"h4",71),l(40,"Chef de quartier"),a(),o(41,"div",66)(42,"div")(43,"label",9),l(44,"Nom *"),a(),p(45,"input",75),a(),o(46,"div")(47,"label",9),l(48,"Pr\xE9noms *"),a(),p(49,"input",76),a(),o(50,"div")(51,"label",9),l(52,"T\xE9l\xE9phone *"),a(),p(53,"input",77),a(),o(54,"div")(55,"label",9),l(56,"Email"),a(),p(57,"input",78),a()()(),o(58,"div",79)(59,"button",80),g("click",function(){S(e);let r=f();return w(r.closeModal())}),l(60," Annuler "),a(),o(61,"button",81),l(62),a()()()()()}if(i&2){let e=f();u(4),M(" ",e.editingQuartier?"Modifier le quartier":"Nouveau quartier"," "),u(4),I("formGroup",e.quartierForm),u(53),I("disabled",!e.quartierForm.valid||e.saving),u(),M(" ",e.saving?"Enregistrement...":"Enregistrer"," ")}}var tr=class i{constructor(t,e){this.quartierService=t;this.fb=e;this.quartierForm=this.fb.group({nom:["",[C.required]],code:[""],description:[""],population:[0,[C.required,C.min(0)]],nombreFamilles:[0,[C.required,C.min(0)]],superficie:[0,[C.required,C.min(0)]],chefNom:["",[C.required]],chefPrenoms:["",[C.required]],chefTelephone:["",[C.required]],chefEmail:[""]})}quartiers=[];filteredQuartiers=[];loading=!1;showModal=!1;editingQuartier=null;saving=!1;searchCriteria={nom:"",code:""};quartierForm;ngOnInit(){this.loadQuartiers()}loadQuartiers(){this.loading=!0,this.quartierService.getAllQuartiers().subscribe({next:t=>{this.quartiers=t,this.filteredQuartiers=t,this.loading=!1},error:t=>{console.error("Erreur lors du chargement des quartiers:",t),this.loading=!1}})}onSearch(){if(!this.searchCriteria.nom.trim()&&!this.searchCriteria.code.trim()){this.filteredQuartiers=this.quartiers;return}this.filteredQuartiers=this.quartiers.filter(t=>{let e=!this.searchCriteria.nom||t.nom.toLowerCase().includes(this.searchCriteria.nom.toLowerCase()),n=!this.searchCriteria.code||t.code&&t.code.toLowerCase().includes(this.searchCriteria.code.toLowerCase());return e&&n})}resetSearch(){this.searchCriteria={nom:"",code:""},this.filteredQuartiers=this.quartiers}openCreateModal(){this.editingQuartier=null,this.quartierForm.reset(),this.showModal=!0}editQuartier(t){this.editingQuartier=t,this.quartierForm.patchValue({nom:t.nom,code:t.code,description:t.description,population:t.population,nombreFamilles:t.nombreFamilles,superficie:t.superficie,chefNom:t.chef.nom,chefPrenoms:t.chef.prenoms,chefTelephone:t.chef.telephone,chefEmail:t.chef.email}),this.showModal=!0}viewQuartier(t){console.log("Voir quartier:",t)}deleteQuartier(t){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le quartier ${t.nom} ?`)&&this.quartierService.deleteQuartier(t.id).subscribe({next:()=>{this.loadQuartiers()},error:e=>{console.error("Erreur lors de la suppression:",e),alert("Erreur lors de la suppression du quartier")}})}saveQuartier(){if(this.quartierForm.valid){this.saving=!0;let t=this.quartierForm.value,e={nom:t.nom,code:t.code,description:t.description,population:t.population,nombreFamilles:t.nombreFamilles,superficie:t.superficie,chef:{nom:t.chefNom,prenoms:t.chefPrenoms,telephone:t.chefTelephone,email:t.chefEmail},coordonnees:this.editingQuartier?.coordonnees||{latitude:5.3198,longitude:-4.0267},infrastructures:this.editingQuartier?.infrastructures||{ecoles:0,centres_sante:0,marches:0,lieux_culte:0,terrains_sport:0},services:this.editingQuartier?.services||{eau_courante:0,electricite:0,assainissement:0,internet:0,transport_public:0},projets:this.editingQuartier?.projets||[]};(this.editingQuartier?this.quartierService.updateQuartier(this.editingQuartier.id,e):this.quartierService.createQuartier(e)).subscribe({next:()=>{this.saving=!1,this.closeModal(),this.loadQuartiers()},error:r=>{console.error("Erreur lors de la sauvegarde:",r),this.saving=!1,alert("Erreur lors de la sauvegarde")}})}}closeModal(){this.showModal=!1,this.editingQuartier=null,this.quartierForm.reset()}static \u0275fac=function(e){return new(e||i)(b(on),b(je))};static \u0275cmp=q({type:i,selectors:[["app-quartier-list"]],decls:29,vars:4,consts:[[1,"container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"bg-orange-600","hover:bg-orange-700","text-white","px-4","py-2","rounded-lg","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-white","rounded-lg","shadow","p-4","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Rechercher par nom...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["type","text","placeholder","Code du quartier...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],[1,"flex","items-end"],[1,"w-full","bg-gray-500","hover:bg-gray-600","text-white","px-4","py-2","rounded-md",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"col-span-full","flex","justify-center","items-center","py-12"],[1,"col-span-full","text-center","py-12"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-orange-600"],[1,"ml-2","text-gray-600"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow"],[1,"p-4","border-b","border-gray-200"],[1,"flex","justify-between","items-start"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"mt-2","text-sm","text-gray-600","line-clamp-2"],[1,"p-4"],[1,"grid","grid-cols-2","gap-4","mb-4"],[1,"text-center"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-xs","text-gray-500"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-lg","font-semibold","text-purple-600"],[1,"text-lg","font-semibold","text-orange-600"],[1,"mb-4","p-3","bg-gray-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"mb-4"],[1,"text-sm","font-medium","text-gray-900","mb-2"],[1,"grid","grid-cols-3","gap-2","text-xs"],[1,"font-semibold","text-blue-600"],[1,"text-gray-500"],[1,"font-semibold","text-red-600"],[1,"font-semibold","text-green-600"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-blue-100","text-blue-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-yellow-100","text-yellow-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-purple-100","text-purple-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-green-100","text-green-800"],[1,"px-4","py-3","bg-gray-50","border-t","border-gray-200","flex","justify-between"],[1,"text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"space-x-2"],[1,"text-orange-600","hover:text-orange-800","text-sm","font-medium",3,"click"],[1,"text-red-600","hover:text-red-800","text-sm","font-medium",3,"click"],[1,"relative","top-20","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-2/3","shadow-lg","rounded-md","bg-white","max-h-screen","overflow-y-auto"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","text","formControlName","nom",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","text","formControlName","code",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","description","rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"border-t","pt-4"],[1,"text-md","font-medium","text-gray-900","mb-3"],["type","number","formControlName","population",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","number","formControlName","nombreFamilles",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","number","formControlName","superficie",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","text","formControlName","chefNom",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","text","formControlName","chefPrenoms",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","tel","formControlName","chefTelephone",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","email","formControlName","chefEmail",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"flex","justify-end","space-x-3","pt-4","border-t"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],["type","submit",1,"px-4","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:opacity-50",3,"disabled"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),l(4,"Gestion des Quartiers"),a(),o(5,"p",3),l(6,"G\xE9rer les quartiers et leurs informations"),a()(),o(7,"button",4),g("click",function(){return n.openCreateModal()}),_(),o(8,"svg",5),p(9,"path",6),a(),l(10," Nouveau Quartier "),a()(),E(),o(11,"div",7)(12,"div",8)(13,"div")(14,"label",9),l(15,"Nom du quartier"),a(),o(16,"input",10),re("ngModelChange",function(s){return ne(n.searchCriteria.nom,s)||(n.searchCriteria.nom=s),s}),g("ngModelChange",function(){return n.onSearch()}),a()(),o(17,"div")(18,"label",9),l(19,"Code"),a(),o(20,"input",11),re("ngModelChange",function(s){return ne(n.searchCriteria.code,s)||(n.searchCriteria.code=s),s}),g("ngModelChange",function(){return n.onSearch()}),a()(),o(21,"div",12)(22,"button",13),g("click",function(){return n.resetSearch()}),l(23," R\xE9initialiser "),a()()()(),o(24,"div",14),R(25,jc,4,0,"div",15)(26,Lc,7,0,"div",16)(27,Gc,2,0),a(),R(28,zc,63,4,"div",17),a()),e&2&&(u(16),ie("ngModel",n.searchCriteria.nom),u(4),ie("ngModel",n.searchCriteria.code),u(5),T(n.loading?25:n.filteredQuartiers.length===0?26:27),u(3),T(n.showModal?28:-1))},dependencies:[z,he,xe,me,jt,pe,ye,$e,Le,Ae,Ie,Sa],styles:[".container[_ngcontent-%COMP%]{max-width:1400px}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}"]})};var _l=(i,t)=>t.id;function Wc(i,t){i&1&&(o(0,"div",44),p(1,"div",47),o(2,"p",48),l(3,"Chargement..."),a()())}function Qc(i,t){i&1&&(o(0,"div",44),_(),o(1,"svg",49),p(2,"path",50),a(),E(),o(3,"h3",51),l(4,"Aucun projet trouv\xE9"),a(),o(5,"p",52),l(6,"Commencez par ajouter un nouveau projet."),a()())}function Zc(i,t){if(i&1&&(o(0,"div",84)(1,"span",3),l(2),a(),o(3,"span",85),l(4),a()()),i&2){let e=t.$implicit;u(2),y(e.nom),u(2),ca(" ",e.valeurActuelle,"/",e.valeurCible," ",e.unite," ")}}function Yc(i,t){if(i&1&&(o(0,"div",67)(1,"div",82),l(2,"Indicateurs cl\xE9s"),a(),o(3,"div",83),ee(4,Zc,5,4,"div",84,_l),a()()),i&2){let e=f().$implicit;u(4),te(e.indicateurs.slice(0,2))}}function Jc(i,t){if(i&1){let e=P();o(0,"div",53)(1,"div",54)(2,"div",55)(3,"div",56)(4,"h3",57),l(5),a(),o(6,"div",58)(7,"span",28),_(),o(8,"svg",59),p(9,"path",60),a(),l(10),a(),E(),o(11,"span"),l(12),a()()(),o(13,"span"),l(14),a()()(),o(15,"div",61)(16,"p",62),l(17),a(),o(18,"div",63)(19,"div")(20,"div",64),l(21,"Budget total"),a(),o(22,"div",65),l(23),a()(),o(24,"div")(25,"div",64),l(26,"D\xE9pens\xE9"),a(),o(27,"div",66),l(28),a()()(),o(29,"div",67)(30,"div",68)(31,"span"),l(32,"Progression"),a(),o(33,"span"),l(34),a()(),o(35,"div",69),p(36,"div",70),a()(),o(37,"div",71)(38,"div")(39,"span",72),l(40,"D\xE9but:"),a(),o(41,"span",73),l(42),J(43,"date"),a()(),o(44,"div")(45,"span",72),l(46,"Fin pr\xE9vue:"),a(),o(47,"span",73),l(48),J(49,"date"),a()()(),o(50,"div",74)(51,"div",75)(52,"span",76),l(53,"Responsable:"),a(),l(54),a(),o(55,"div")(56,"span",76),l(57,"B\xE9n\xE9ficiaires:"),a(),l(58),a()(),R(59,Yc,6,0,"div",67),a(),o(60,"div",77)(61,"button",78),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.viewProjet(r))}),l(62," Voir d\xE9tails "),a(),o(63,"div",79)(64,"button",80),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.editProjet(r))}),l(65," Modifier "),a(),o(66,"button",81),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.deleteProjet(r))}),l(67," Supprimer "),a()()()()}if(i&2){let e=t.$implicit,n=f(2);u(5),y(e.nom),u(5),M(" ",e.quartier," "),u(),O(n.getTypeClass(e.type)),u(),M(" ",n.getTypeLabel(e.type)," "),u(),O(n.getStatutClass(e.statut)),u(),M(" ",n.getStatutLabel(e.statut)," "),u(3),y(e.description),u(6),y(n.formatCurrency(e.budget)),u(5),y(n.formatCurrency(e.budgetDepense)),u(6),M("",n.getAvancement(e),"%"),u(2),hi("width",n.getAvancement(e),"%"),u(6),y(ae(43,19,e.dateDebut,"dd/MM/yyyy")),u(6),y(ae(49,22,e.dateFinPrevue,"dd/MM/yyyy")),u(6),M(" ",e.responsable," "),u(4),M(" ",e.beneficiaires," personnes "),u(),T(e.indicateurs&&e.indicateurs.length>0?59:-1)}}function Kc(i,t){if(i&1&&(o(0,"div",45),ee(1,Jc,68,25,"div",53,_l),a()),i&2){let e=f();u(),te(e.filteredProjets)}}function Xc(i,t){if(i&1){let e=P();o(0,"div",46)(1,"div",86)(2,"div",87)(3,"h3",88),l(4),a(),o(5,"button",89),g("click",function(){S(e);let r=f();return w(r.closeModal())}),_(),o(6,"svg",90),p(7,"path",91),a()()(),E(),o(8,"form",92),g("ngSubmit",function(){S(e);let r=f();return w(r.saveProjet())}),o(9,"div",93)(10,"div",94)(11,"label",9),l(12,"Nom du projet *"),a(),p(13,"input",95),a(),o(14,"div")(15,"label",9),l(16,"Quartier *"),a(),o(17,"select",96)(18,"option",12),l(19,"S\xE9lectionner un quartier"),a(),o(20,"option",13),l(21,"Pateau Nord"),a(),o(22,"option",14),l(23,"Plateau"),a(),o(24,"option",15),l(25,"Pateau Centre"),a()()(),o(26,"div")(27,"label",9),l(28,"Type *"),a(),o(29,"select",97)(30,"option",12),l(31,"S\xE9lectionner un type"),a(),o(32,"option",16),l(33,"Infrastructure"),a(),o(34,"option",17),l(35,"Social"),a(),o(36,"option",18),l(37,"\xC9conomique"),a(),o(38,"option",19),l(39,"Environnemental"),a()()()(),o(40,"div")(41,"label",9),l(42,"Description *"),a(),p(43,"textarea",98),a(),o(44,"div",93)(45,"div")(46,"label",9),l(47,"Budget (FCFA) *"),a(),p(48,"input",99),a(),o(49,"div")(50,"label",9),l(51,"Responsable *"),a(),p(52,"input",100),a(),o(53,"div")(54,"label",9),l(55,"Date de d\xE9but *"),a(),p(56,"input",101),a(),o(57,"div")(58,"label",9),l(59,"Date de fin pr\xE9vue *"),a(),p(60,"input",102),a()(),o(61,"div",103)(62,"button",104),g("click",function(){S(e);let r=f();return w(r.closeModal())}),l(63," Annuler "),a(),o(64,"button",105),l(65),a()()()()()}if(i&2){let e=f();u(4),M(" ",e.editingProjet?"Modifier le projet":"Nouveau projet"," "),u(4),I("formGroup",e.projetForm),u(56),I("disabled",!e.projetForm.valid||e.saving),u(),M(" ",e.saving?"Enregistrement...":"Enregistrer"," ")}}var ir=class i{constructor(t,e){this.projetService=t;this.fb=e;this.projetForm=this.fb.group({nom:["",[C.required]],description:["",[C.required]],quartier:["",[C.required]],type:["",[C.required]],budget:[0,[C.required,C.min(0)]],responsable:["",[C.required]],dateDebut:["",[C.required]],dateFinPrevue:["",[C.required]]})}projets=[];filteredProjets=[];loading=!1;showModal=!1;editingProjet=null;saving=!1;statistiques={total:0,enCours:0,budgetTotal:0,beneficiaires:0};searchCriteria={nom:"",quartier:"",type:"",statut:""};projetForm;ngOnInit(){this.loadProjets(),this.loadStatistiques()}loadProjets(){this.loading=!0,this.projetService.projets$.subscribe({next:t=>{this.projets=t,this.filteredProjets=t,this.loading=!1,this.updateStatistiques()},error:t=>{console.error("Erreur lors du chargement des projets:",t),this.loading=!1}})}loadStatistiques(){setTimeout(()=>{this.updateStatistiques()},500)}updateStatistiques(){this.statistiques={total:this.projets.length,enCours:this.projets.filter(t=>t.statut==="en-cours").length,budgetTotal:this.projets.reduce((t,e)=>t+(e.budget||0),0),beneficiaires:this.projets.reduce((t,e)=>t+(e.beneficiaires||0),0)}}onSearch(){this.filteredProjets=this.projets.filter(t=>{let e=!0;return this.searchCriteria.nom&&(e=e&&t.nom.toLowerCase().includes(this.searchCriteria.nom.toLowerCase())),this.searchCriteria.quartier&&(e=e&&t.quartier===this.searchCriteria.quartier),this.searchCriteria.type&&(e=e&&t.type===this.searchCriteria.type),this.searchCriteria.statut&&(e=e&&t.statut===this.searchCriteria.statut),e})}resetSearch(){this.searchCriteria={nom:"",quartier:"",type:"",statut:""},this.filteredProjets=this.projets}openCreateModal(){this.editingProjet=null,this.projetForm.reset(),this.showModal=!0}editProjet(t){this.editingProjet=t,this.projetForm.patchValue({nom:t.nom,description:t.description,quartier:t.quartier,type:t.type,budget:t.budget,responsable:t.responsable,dateDebut:this.formatDate(t.dateDebut),dateFinPrevue:this.formatDate(t.dateFinPrevue)}),this.showModal=!0}viewProjet(t){console.log("Voir projet:",t)}deleteProjet(t){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer le projet "${t.nom}" ?`)&&this.projetService.supprimerProjet(t.id).subscribe({next:()=>{this.loadProjets()},error:e=>{console.error("Erreur lors de la suppression:",e),alert("Erreur lors de la suppression du projet")}})}saveProjet(){if(this.projetForm.valid){this.saving=!0;let t=this.projetForm.value,e=k(v({},t),{quartierId:this.getQuartierIdByName(t.quartier),statut:this.editingProjet?.statut||"planifie",budgetDepense:this.editingProjet?.budgetDepense||0,beneficiaires:this.editingProjet?.beneficiaires||0,dateDebut:new Date(t.dateDebut),dateFinPrevue:new Date(t.dateFinPrevue)});(this.editingProjet?this.projetService.modifierProjet(this.editingProjet.id,e):this.projetService.ajouterProjet(e)).subscribe({next:()=>{this.saving=!1,this.closeModal(),this.loadProjets()},error:r=>{console.error("Erreur lors de la sauvegarde:",r),this.saving=!1,alert("Erreur lors de la sauvegarde")}})}}closeModal(){this.showModal=!1,this.editingProjet=null,this.projetForm.reset()}formatCurrency(t){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0}).format(t)}formatDate(t){return t?new Date(t).toISOString().split("T")[0]:""}getAvancement(t){if(t.indicateurs&&t.indicateurs.length>0){let e=t.indicateurs.map(n=>n.pourcentageRealisation||0);return Math.round(e.reduce((n,r)=>n+r,0)/e.length)}return Math.floor(Math.random()*100)}getStatutClass(t){let e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(t){case"planifie":return`${e} bg-blue-100 text-blue-800`;case"en-cours":return`${e} bg-green-100 text-green-800`;case"termine":return`${e} bg-gray-100 text-gray-800`;case"suspendu":return`${e} bg-red-100 text-red-800`;default:return`${e} bg-gray-100 text-gray-800`}}getTypeClass(t){let e="inline-flex items-center px-2 py-1 rounded text-xs font-medium";switch(t){case"infrastructure":return`${e} bg-orange-100 text-orange-800`;case"social":return`${e} bg-purple-100 text-purple-800`;case"economique":return`${e} bg-green-100 text-green-800`;case"environnemental":return`${e} bg-blue-100 text-blue-800`;default:return`${e} bg-gray-100 text-gray-800`}}getStatutLabel(t){return{planifie:"Planifi\xE9","en-cours":"En cours",termine:"Termin\xE9",suspendu:"Suspendu"}[t]||t}getTypeLabel(t){return{infrastructure:"Infrastructure",social:"Social",economique:"\xC9conomique",environnemental:"Environnemental"}[t]||t}getQuartierIdByName(t){return{"Pateau Nord":"1",Plateau:"2","Pateau Centre":"3"}[t]||"1"}static \u0275fac=function(e){return new(e||i)(b(an),b(je))};static \u0275cmp=q({type:i,selectors:[["app-projet-list"]],decls:110,vars:10,consts:[[1,"container","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"bg-orange-600","hover:bg-orange-700","text-white","px-4","py-2","rounded-lg","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-white","rounded-lg","shadow","p-4","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","placeholder","Rechercher...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["value",""],["value","Pateau Nord"],["value","Plateau"],["value","Pateau Centre"],["value","infrastructure"],["value","social"],["value","economique"],["value","environnemental"],["value","planifie"],["value","en-cours"],["value","termine"],["value","suspendu"],[1,"flex","items-end"],[1,"w-full","bg-gray-500","hover:bg-gray-600","text-white","px-4","py-2","rounded-md",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-6"],[1,"bg-white","rounded-lg","shadow","p-4"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-8","h-8","bg-blue-500","rounded-md","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-white"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"w-8","h-8","bg-green-500","rounded-md","flex","items-center","justify-center"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"],[1,"w-8","h-8","bg-orange-500","rounded-md","flex","items-center","justify-center"],["fill-rule","evenodd","d","M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"],[1,"text-lg","font-semibold","text-gray-900"],[1,"w-8","h-8","bg-purple-500","rounded-md","flex","items-center","justify-center"],["d","M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"p-8","text-center"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","p-6"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-orange-600","mx-auto"],[1,"mt-2","text-gray-600"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"border","border-gray-200","rounded-lg","hover:shadow-md","transition-shadow"],[1,"p-4","border-b","border-gray-200"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-900","mb-1"],[1,"flex","items-center","space-x-4","text-sm","text-gray-500"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1"],["fill-rule","evenodd","d","M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"],[1,"p-4"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2"],[1,"grid","grid-cols-2","gap-4","mb-4"],[1,"text-xs","text-gray-500"],[1,"text-sm","font-semibold","text-green-600"],[1,"text-sm","font-semibold","text-orange-600"],[1,"mb-4"],[1,"flex","justify-between","text-xs","text-gray-500","mb-1"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-blue-600","h-2","rounded-full","transition-all","duration-300"],[1,"grid","grid-cols-2","gap-4","mb-4","text-xs"],[1,"text-gray-500"],[1,"ml-1","text-gray-900"],[1,"text-xs","text-gray-600","mb-4"],[1,"mb-1"],[1,"font-medium"],[1,"px-4","py-3","bg-gray-50","border-t","border-gray-200","flex","justify-between"],[1,"text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"space-x-2"],[1,"text-orange-600","hover:text-orange-800","text-sm","font-medium",3,"click"],[1,"text-red-600","hover:text-red-800","text-sm","font-medium",3,"click"],[1,"text-xs","font-medium","text-gray-700","mb-2"],[1,"space-y-1"],[1,"flex","justify-between","text-xs"],[1,"text-gray-900"],[1,"relative","top-10","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-2/3","shadow-lg","rounded-md","bg-white","max-h-screen","overflow-y-auto"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2"],["type","text","formControlName","nom",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","quartier",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","type",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","description","rows","3",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","number","formControlName","budget",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","text","formControlName","responsable",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","date","formControlName","dateDebut",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","date","formControlName","dateFinPrevue",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"flex","justify-end","space-x-3","pt-4","border-t"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","text-gray-700","hover:bg-gray-50",3,"click"],["type","submit",1,"px-4","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:opacity-50",3,"disabled"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),l(4,"Gestion des Projets"),a(),o(5,"p",3),l(6,"G\xE9rer les projets municipaux"),a()(),o(7,"button",4),g("click",function(){return n.openCreateModal()}),_(),o(8,"svg",5),p(9,"path",6),a(),l(10," Nouveau Projet "),a()(),E(),o(11,"div",7)(12,"div",8)(13,"div")(14,"label",9),l(15,"Nom du projet"),a(),o(16,"input",10),re("ngModelChange",function(s){return ne(n.searchCriteria.nom,s)||(n.searchCriteria.nom=s),s}),g("ngModelChange",function(){return n.onSearch()}),a()(),o(17,"div")(18,"label",9),l(19,"Quartier"),a(),o(20,"select",11),re("ngModelChange",function(s){return ne(n.searchCriteria.quartier,s)||(n.searchCriteria.quartier=s),s}),g("ngModelChange",function(){return n.onSearch()}),o(21,"option",12),l(22,"Tous les quartiers"),a(),o(23,"option",13),l(24,"Pateau Nord"),a(),o(25,"option",14),l(26,"Plateau"),a(),o(27,"option",15),l(28,"Pateau Centre"),a()()(),o(29,"div")(30,"label",9),l(31,"Type"),a(),o(32,"select",11),re("ngModelChange",function(s){return ne(n.searchCriteria.type,s)||(n.searchCriteria.type=s),s}),g("ngModelChange",function(){return n.onSearch()}),o(33,"option",12),l(34,"Tous les types"),a(),o(35,"option",16),l(36,"Infrastructure"),a(),o(37,"option",17),l(38,"Social"),a(),o(39,"option",18),l(40,"\xC9conomique"),a(),o(41,"option",19),l(42,"Environnemental"),a()()(),o(43,"div")(44,"label",9),l(45,"Statut"),a(),o(46,"select",11),re("ngModelChange",function(s){return ne(n.searchCriteria.statut,s)||(n.searchCriteria.statut=s),s}),g("ngModelChange",function(){return n.onSearch()}),o(47,"option",12),l(48,"Tous les statuts"),a(),o(49,"option",20),l(50,"Planifi\xE9"),a(),o(51,"option",21),l(52,"En cours"),a(),o(53,"option",22),l(54,"Termin\xE9"),a(),o(55,"option",23),l(56,"Suspendu"),a()()(),o(57,"div",24)(58,"button",25),g("click",function(){return n.resetSearch()}),l(59," R\xE9initialiser "),a()()()(),o(60,"div",26)(61,"div",27)(62,"div",28)(63,"div",29)(64,"div",30),_(),o(65,"svg",31),p(66,"path",32),a()()(),E(),o(67,"div",33)(68,"p",34),l(69,"Total Projets"),a(),o(70,"p",35),l(71),a()()()(),o(72,"div",27)(73,"div",28)(74,"div",29)(75,"div",36),_(),o(76,"svg",31),p(77,"path",37),a()()(),E(),o(78,"div",33)(79,"p",34),l(80,"En Cours"),a(),o(81,"p",35),l(82),a()()()(),o(83,"div",27)(84,"div",28)(85,"div",29)(86,"div",38),_(),o(87,"svg",31),p(88,"path",39),a()()(),E(),o(89,"div",33)(90,"p",34),l(91,"Budget Total"),a(),o(92,"p",40),l(93),a()()()(),o(94,"div",27)(95,"div",28)(96,"div",29)(97,"div",41),_(),o(98,"svg",31),p(99,"path",42),a()()(),E(),o(100,"div",33)(101,"p",34),l(102,"B\xE9n\xE9ficiaires"),a(),o(103,"p",35),l(104),a()()()()(),o(105,"div",43),R(106,Wc,4,0,"div",44)(107,Qc,7,0,"div",44)(108,Kc,3,0,"div",45),a(),R(109,Xc,66,4,"div",46),a()),e&2&&(u(16),ie("ngModel",n.searchCriteria.nom),u(4),ie("ngModel",n.searchCriteria.quartier),u(12),ie("ngModel",n.searchCriteria.type),u(14),ie("ngModel",n.searchCriteria.statut),u(25),y(n.statistiques.total||0),u(11),y(n.statistiques.enCours||0),u(11),y(n.formatCurrency(n.statistiques.budgetTotal||0)),u(11),y(n.statistiques.beneficiaires||0),u(2),T(n.loading?106:n.filteredProjets.length===0?107:108),u(3),T(n.showModal?109:-1))},dependencies:[z,he,xe,Pe,Oe,me,jt,_e,pe,ye,$e,Le,Ae,Ie,Ne],styles:[".container[_ngcontent-%COMP%]{max-width:1400px}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}"]})};var nr=class i{currentUserSubject=new Y(this.getMockUser());currentUser$=this.currentUserSubject.asObservable();constructor(){}getCurrentUser(){return this.currentUser$}updateProfile(t){let e=this.currentUserSubject.value;if(e){let n=v(v({},e),t);return this.currentUserSubject.next(n),x(n).pipe(H(500))}throw new Error("Aucun utilisateur connect\xE9")}updatePassword(t,e){return x(!0).pipe(H(1e3))}updatePreferences(t){let e=this.currentUserSubject.value;if(e){let n=k(v({},e),{preferences:v(v({},e.preferences),t)});return this.currentUserSubject.next(n),x(!0).pipe(H(500))}return x(!1)}uploadAvatar(t){return x("https://via.placeholder.com/150").pipe(H(1500))}getMockUser(){return{id:"1",nom:"Kouassi",prenoms:"Jean-Baptiste",email:"j.kouassi@gestion-pop.ci",telephone:"+225 07 12 34 56 78",role:"Admin",statut:"Actif",dateCreation:new Date("2024-01-15"),derniereConnexion:new Date,avatar:"https://via.placeholder.com/150",preferences:{langue:"fr",theme:"light",notifications:{email:!0,push:!0,sms:!1}}}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};function t0(i,t){if(i&1&&(o(0,"div",20)(1,"span",21),l(2,"Derni\xE8re connexion"),a(),o(3,"span",22),l(4),J(5,"date"),a()()),i&2){let e=f(2);u(4),y(ae(5,1,e.currentUser.derniereConnexion,"dd/MM/yyyy \xE0 HH:mm"))}}function i0(i,t){i&1&&(o(0,"p",38),l(1,"Les mots de passe ne correspondent pas"),a())}function n0(i,t){if(i&1){let e=P();o(0,"div",5)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),p(5,"img",11),o(6,"button",12),g("click",function(){S(e);let r=f();return w(r.triggerFileInput())}),_(),o(7,"svg",13),p(8,"path",14)(9,"path",15),a()(),E(),o(10,"input",16,0),g("change",function(r){S(e);let s=f();return w(s.onFileSelected(r))}),a()(),o(12,"h2",17),l(13),a(),o(14,"p",4),l(15),a(),o(16,"div",18)(17,"span"),l(18),a()()(),o(19,"div",19)(20,"div",20)(21,"span",21),l(22,"Statut"),a(),o(23,"span"),l(24),a()(),o(25,"div",20)(26,"span",21),l(27,"Membre depuis"),a(),o(28,"span",22),l(29),J(30,"date"),a()(),R(31,t0,6,4,"div",20),a()()(),o(32,"div",23)(33,"div",8)(34,"h3",24),l(35,"Informations personnelles"),a(),o(36,"form",25),g("ngSubmit",function(){S(e);let r=f();return w(r.updateProfile())}),o(37,"div",26)(38,"div")(39,"label",27),l(40,"Nom *"),a(),p(41,"input",28),a(),o(42,"div")(43,"label",27),l(44,"Pr\xE9noms *"),a(),p(45,"input",29),a(),o(46,"div")(47,"label",27),l(48,"Email *"),a(),p(49,"input",30),a(),o(50,"div")(51,"label",27),l(52,"T\xE9l\xE9phone"),a(),p(53,"input",31),a()(),o(54,"div",32)(55,"button",33),l(56),a()()()(),o(57,"div",8)(58,"h3",24),l(59,"Changer le mot de passe"),a(),o(60,"form",25),g("ngSubmit",function(){S(e);let r=f();return w(r.updatePassword())}),o(61,"div",34)(62,"div")(63,"label",27),l(64,"Mot de passe actuel *"),a(),p(65,"input",35),a(),o(66,"div")(67,"label",27),l(68,"Nouveau mot de passe *"),a(),p(69,"input",36),a(),o(70,"div")(71,"label",27),l(72,"Confirmer le nouveau mot de passe *"),a(),p(73,"input",37),a()(),R(74,i0,2,0,"p",38),o(75,"div",32)(76,"button",39),l(77),a()()()(),o(78,"div",8)(79,"h3",24),l(80,"Pr\xE9f\xE9rences"),a(),o(81,"form",25),g("ngSubmit",function(){S(e);let r=f();return w(r.updatePreferences())}),o(82,"div",40)(83,"div")(84,"label",41),l(85,"Langue"),a(),o(86,"select",42)(87,"option",43),l(88,"Fran\xE7ais"),a(),o(89,"option",44),l(90,"English"),a()()(),o(91,"div")(92,"label",41),l(93,"Th\xE8me"),a(),o(94,"select",45)(95,"option",46),l(96,"Clair"),a(),o(97,"option",47),l(98,"Sombre"),a()()(),o(99,"div")(100,"label",48),l(101,"Notifications"),a(),o(102,"div",49)(103,"div",50),p(104,"input",51),o(105,"label",52),l(106,"Notifications par email"),a()(),o(107,"div",50),p(108,"input",53),o(109,"label",52),l(110,"Notifications push"),a()(),o(111,"div",50),p(112,"input",54),o(113,"label",52),l(114,"Notifications SMS"),a()()()()(),o(115,"div",32)(116,"button",55),l(117),a()()()()()()}if(i&2){let e,n=f();u(5),I("src",n.currentUser.avatar||"https://via.placeholder.com/150",Jo),u(8),ce("",n.currentUser.nom," ",n.currentUser.prenoms),u(2),y(n.currentUser.email),u(2),O(n.getRoleClass(n.currentUser.role)),u(),M(" ",n.currentUser.role," "),u(5),O(n.getStatutClass(n.currentUser.statut)),u(),M(" ",n.currentUser.statut," "),u(5),y(ae(30,22,n.currentUser.dateCreation,"dd/MM/yyyy")),u(2),T(n.currentUser.derniereConnexion?31:-1),u(5),I("formGroup",n.profileForm),u(19),I("disabled",n.profileForm.invalid||n.updating),u(),M(" ",n.updating?"Mise \xE0 jour...":"Mettre \xE0 jour"," "),u(4),I("formGroup",n.passwordForm),u(14),T(!((e=n.passwordForm.get("confirmPassword"))==null||e.errors==null)&&e.errors.mismatch&&((e=n.passwordForm.get("confirmPassword"))!=null&&e.touched)?74:-1),u(2),I("disabled",n.passwordForm.invalid||n.updatingPassword),u(),M(" ",n.updatingPassword?"Modification...":"Changer le mot de passe"," "),u(4),I("formGroup",n.preferencesForm),u(35),I("disabled",n.updatingPreferences),u(),M(" ",n.updatingPreferences?"Sauvegarde...":"Sauvegarder les pr\xE9f\xE9rences"," ")}}function r0(i,t){i&1&&(o(0,"div",6),p(1,"div",56),o(2,"p",57),l(3,"Chargement du profil..."),a()())}var rr=class i{constructor(t,e){this.utilisateurService=t;this.fb=e;this.profileForm=this.fb.group({nom:["",C.required],prenoms:["",C.required],email:["",[C.required,C.email]],telephone:[""]}),this.passwordForm=this.fb.group({currentPassword:["",C.required],newPassword:["",[C.required,C.minLength(6)]],confirmPassword:["",C.required]},{validators:this.passwordMatchValidator}),this.preferencesForm=this.fb.group({langue:["fr"],theme:["light"],notificationEmail:[!0],notificationPush:[!0],notificationSms:[!1]})}currentUser=null;profileForm;passwordForm;preferencesForm;updating=!1;updatingPassword=!1;updatingPreferences=!1;ngOnInit(){this.utilisateurService.getCurrentUser().subscribe(t=>{this.currentUser=t,t&&(this.profileForm.patchValue({nom:t.nom,prenoms:t.prenoms,email:t.email,telephone:t.telephone}),this.preferencesForm.patchValue({langue:t.preferences.langue,theme:t.preferences.theme,notificationEmail:t.preferences.notifications.email,notificationPush:t.preferences.notifications.push,notificationSms:t.preferences.notifications.sms}))})}updateProfile(){if(this.profileForm.valid){this.updating=!0;let t=this.profileForm.value;this.utilisateurService.updateProfile(t).subscribe({next:e=>{this.currentUser=e,this.updating=!1,alert("Profil mis \xE0 jour avec succ\xE8s !")},error:e=>{console.error("Erreur lors de la mise \xE0 jour:",e),this.updating=!1,alert("Erreur lors de la mise \xE0 jour du profil")}})}}updatePassword(){if(this.passwordForm.valid){this.updatingPassword=!0;let{currentPassword:t,newPassword:e}=this.passwordForm.value;this.utilisateurService.updatePassword(t,e).subscribe({next:()=>{this.updatingPassword=!1,this.passwordForm.reset(),alert("Mot de passe modifi\xE9 avec succ\xE8s !")},error:n=>{console.error("Erreur lors du changement de mot de passe:",n),this.updatingPassword=!1,alert("Erreur lors du changement de mot de passe")}})}}updatePreferences(){if(this.preferencesForm.valid){this.updatingPreferences=!0;let t=this.preferencesForm.value,e={langue:t.langue,theme:t.theme,notifications:{email:t.notificationEmail,push:t.notificationPush,sms:t.notificationSms}};this.utilisateurService.updatePreferences(e).subscribe({next:()=>{this.updatingPreferences=!1,alert("Pr\xE9f\xE9rences sauvegard\xE9es avec succ\xE8s !")},error:n=>{console.error("Erreur lors de la sauvegarde:",n),this.updatingPreferences=!1,alert("Erreur lors de la sauvegarde des pr\xE9f\xE9rences")}})}}triggerFileInput(){document.querySelector('input[type="file"]')?.click()}onFileSelected(t){let e=t.target.files[0];e&&this.utilisateurService.uploadAvatar(e).subscribe({next:n=>{this.currentUser&&this.utilisateurService.updateProfile({avatar:n}).subscribe()},error:n=>{console.error("Erreur lors de l'upload:",n),alert("Erreur lors de l'upload de l'avatar")}})}getRoleClass(t){let e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(t){case"Admin":return`${e} bg-red-100 text-red-800`;case"Superviseur":return`${e} bg-blue-100 text-blue-800`;case"Agent":return`${e} bg-green-100 text-green-800`;default:return`${e} bg-gray-100 text-gray-800`}}getStatutClass(t){let e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";return t==="Actif"?`${e} bg-green-100 text-green-800`:`${e} bg-red-100 text-red-800`}passwordMatchValidator(t){let e=t.get("newPassword"),n=t.get("confirmPassword");return e?.value!==n?.value?n?.setErrors({mismatch:!0}):n?.setErrors(null),null}static \u0275fac=function(e){return new(e||i)(b(nr),b(je))};static \u0275cmp=q({type:i,selectors:[["app-profil"]],decls:8,vars:1,consts:[["fileInput",""],[1,"container","mx-auto","p-6","max-w-4xl"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"text-center","py-12"],[1,"lg:col-span-1"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"text-center"],[1,"relative","inline-block"],["alt","Avatar",1,"w-32","h-32","rounded-full","mx-auto","object-cover","border-4","border-gray-200",3,"src"],[1,"absolute","bottom-0","right-0","bg-orange-600","hover:bg-orange-700","text-white","rounded-full","p-2","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 13a3 3 0 11-6 0 3 3 0 016 0z"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"mt-4","text-xl","font-semibold","text-gray-900"],[1,"mt-2"],[1,"mt-6","space-y-4"],[1,"flex","justify-between"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-900"],[1,"lg:col-span-2","space-y-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","nom","type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","prenoms","type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","email","type","email",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","telephone","type","tel",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"mt-6","flex","justify-end"],["type","submit",1,"px-6","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:opacity-50",3,"disabled"],[1,"space-y-4"],["formControlName","currentPassword","type","password",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","newPassword","type","password",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","confirmPassword","type","password",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],[1,"mt-1","text-sm","text-red-600"],["type","submit",1,"px-6","py-2","bg-red-600","text-white","rounded-md","hover:bg-red-700","disabled:opacity-50",3,"disabled"],[1,"space-y-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","langue",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["value","fr"],["value","en"],["formControlName","theme",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["value","light"],["value","dark"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"space-y-3"],[1,"flex","items-center"],["formControlName","notificationEmail","type","checkbox",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300","rounded"],[1,"ml-2","block","text-sm","text-gray-900"],["formControlName","notificationPush","type","checkbox",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300","rounded"],["formControlName","notificationSms","type","checkbox",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300","rounded"],["type","submit",1,"px-6","py-2","bg-green-600","text-white","rounded-md","hover:bg-green-700","disabled:opacity-50",3,"disabled"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-orange-600","mx-auto"],[1,"mt-2","text-gray-600"]],template:function(e,n){e&1&&(o(0,"div",1)(1,"div",2)(2,"h1",3),l(3,"Mon Profil"),a(),o(4,"p",4),l(5,"G\xE9rez vos informations personnelles et pr\xE9f\xE9rences"),a()(),R(6,n0,118,25,"div",5)(7,r0,4,0,"div",6),a()),e&2&&(u(6),T(n.currentUser?6:7))},dependencies:[z,he,xe,Pe,Oe,me,qi,_e,pe,ye,Le,Ae,Ie,Ne],encapsulation:2})};var o0=(i,t)=>t.id;function a0(i,t){if(i&1){let e=P();o(0,"button",11),g("click",function(){let r=S(e).$implicit,s=f();return w(s.activeSection=r.id)}),p(1,"i",12),l(2),a()}if(i&2){let e=t.$implicit,n=f();O(n.getSectionClass(e.id)),u(),O(e.icon),u(),M(" ",e.label," ")}}function s0(i,t){if(i&1){let e=P();o(0,"div",10)(1,"h2",13),l(2,"Param\xE8tres g\xE9n\xE9raux"),a(),o(3,"form",14),g("ngSubmit",function(){S(e);let r=f();return w(r.saveGeneralSettings())}),o(4,"div",15)(5,"div")(6,"label",16),l(7,"Nom de l'application"),a(),p(8,"input",17),a(),o(9,"div")(10,"label",16),l(11,"Version"),a(),p(12,"input",18),a(),o(13,"div",19),p(14,"input",20),o(15,"label",21),l(16,"Mode maintenance"),a()()(),o(17,"div",22)(18,"button",23),l(19," Sauvegarder "),a()()()()}if(i&2){let e=f();u(3),I("formGroup",e.generalForm)}}function l0(i,t){if(i&1){let e=P();o(0,"div",10)(1,"h2",13),l(2,"Gestion des utilisateurs"),a(),o(3,"form",14),g("ngSubmit",function(){S(e);let r=f();return w(r.saveUsersSettings())}),o(4,"div",24)(5,"div")(6,"h3",25),l(7,"Nombre maximum d'utilisateurs par r\xF4le"),a(),o(8,"div",26)(9,"div")(10,"label",16),l(11,"Administrateurs"),a(),p(12,"input",27),a(),o(13,"div")(14,"label",16),l(15,"Superviseurs"),a(),p(16,"input",28),a(),o(17,"div")(18,"label",16),l(19,"Agents"),a(),p(20,"input",29),a()()()(),o(21,"div",22)(22,"button",23),l(23," Sauvegarder "),a()()()()}if(i&2){let e=f();u(3),I("formGroup",e.usersForm)}}function d0(i,t){if(i&1){let e=P();o(0,"div",10)(1,"h2",13),l(2,"Param\xE8tres de s\xE9curit\xE9"),a(),o(3,"form",14),g("ngSubmit",function(){S(e);let r=f();return w(r.saveSecuritySettings())}),o(4,"div",15)(5,"div")(6,"label",16),l(7,"Longueur minimale du mot de passe"),a(),p(8,"input",30),a(),o(9,"div")(10,"label",16),l(11,"Timeout de session (minutes)"),a(),p(12,"input",31),a(),o(13,"div")(14,"label",16),l(15,"Nombre max de tentatives de connexion"),a(),p(16,"input",32),a(),o(17,"div",19),p(18,"input",33),o(19,"label",21),l(20,"Exiger l'authentification \xE0 deux facteurs"),a()()(),o(21,"div",22)(22,"button",23),l(23," Sauvegarder "),a()()()()}if(i&2){let e=f();u(3),I("formGroup",e.securityForm)}}function u0(i,t){if(i&1){let e=P();o(0,"div",10)(1,"h2",13),l(2,"Configuration Email"),a(),o(3,"form",14),g("ngSubmit",function(){S(e);let r=f();return w(r.saveEmailSettings())}),o(4,"div",15)(5,"div",34)(6,"div")(7,"label",16),l(8,"Serveur SMTP"),a(),p(9,"input",35),a(),o(10,"div")(11,"label",16),l(12,"Port SMTP"),a(),p(13,"input",36),a()(),o(14,"div")(15,"label",16),l(16,"Nom d'utilisateur"),a(),p(17,"input",37),a(),o(18,"div")(19,"label",16),l(20,"Email exp\xE9diteur"),a(),p(21,"input",38),a(),o(22,"div",19),p(23,"input",39),o(24,"label",21),l(25,"Utiliser SSL/TLS"),a()()(),o(26,"div",40)(27,"button",23),l(28," Sauvegarder "),a(),o(29,"button",41),g("click",function(){S(e);let r=f();return w(r.testEmailSettings())}),l(30," Tester la configuration "),a()()()()}if(i&2){let e=f();u(3),I("formGroup",e.emailForm)}}function c0(i,t){if(i&1&&(o(0,"tr")(1,"td",55),l(2),J(3,"date"),a(),o(4,"td",55),l(5),a(),o(6,"td",56)(7,"span"),l(8),a()(),o(9,"td",57)(10,"button",58),l(11,"T\xE9l\xE9charger"),a(),o(12,"button",59),l(13,"Supprimer"),a()()()),i&2){let e=t.$implicit,n=f(2);u(2),M(" ",ae(3,5,e.date,"dd/MM/yyyy \xE0 HH:mm")," "),u(3),M(" ",e.size," "),u(2),O(n.getBackupStatusClass(e.status)),u(),M(" ",e.status," ")}}function m0(i,t){if(i&1){let e=P();o(0,"div",10)(1,"h2",13),l(2,"Sauvegarde et r\xE9cup\xE9ration"),a(),o(3,"form",14),g("ngSubmit",function(){S(e);let r=f();return w(r.saveBackupSettings())}),o(4,"div",15)(5,"div",19),p(6,"input",42),o(7,"label",21),l(8,"Activer les sauvegardes automatiques"),a()(),o(9,"div")(10,"label",16),l(11,"Fr\xE9quence de sauvegarde"),a(),o(12,"select",43)(13,"option",44),l(14,"Quotidienne"),a(),o(15,"option",45),l(16,"Hebdomadaire"),a(),o(17,"option",46),l(18,"Mensuelle"),a()()(),o(19,"div")(20,"label",16),l(21,"Nombre de sauvegardes \xE0 conserver"),a(),p(22,"input",47),a()(),o(23,"div",40)(24,"button",23),l(25," Sauvegarder "),a(),o(26,"button",48),g("click",function(){S(e);let r=f();return w(r.createBackup())}),l(27," Cr\xE9er une sauvegarde maintenant "),a()()(),o(28,"div",49)(29,"h3",25),l(30,"Sauvegardes r\xE9centes"),a(),o(31,"div",50)(32,"table",51)(33,"thead",52)(34,"tr")(35,"th",53),l(36,"Date"),a(),o(37,"th",53),l(38,"Taille"),a(),o(39,"th",53),l(40,"Statut"),a(),o(41,"th",53),l(42,"Actions"),a()()(),o(43,"tbody",54),ee(44,c0,14,8,"tr",null,o0),a()()()()()}if(i&2){let e=f();u(3),I("formGroup",e.backupForm),u(41),te(e.recentBackups)}}function p0(i,t){if(i&1){let e=P();o(0,"div",10)(1,"h2",13),l(2,"Gestion des donn\xE9es"),a(),o(3,"form",14),g("ngSubmit",function(){S(e);let r=f();return w(r.saveDataSettings())}),o(4,"div",24)(5,"div")(6,"h3",25),l(7,"R\xE9tention des donn\xE9es (en mois)"),a(),o(8,"div",26)(9,"div")(10,"label",16),l(11,"Familles"),a(),p(12,"input",60),a(),o(13,"div")(14,"label",16),l(15,"Projets"),a(),p(16,"input",61),a(),o(17,"div")(18,"label",16),l(19,"Rapports"),a(),p(20,"input",62),a()()()(),o(21,"div",40)(22,"button",23),l(23," Sauvegarder "),a(),o(24,"button",63),g("click",function(){S(e);let r=f();return w(r.cleanupOldData())}),l(25," Nettoyer les anciennes donn\xE9es "),a()()()()}if(i&2){let e=f();u(3),I("formGroup",e.dataForm)}}var or=class i{constructor(t){this.fb=t;this.initializeForms()}activeSection="general";generalForm;usersForm;securityForm;emailForm;backupForm;dataForm;sections=[{id:"general",label:"G\xE9n\xE9ral",icon:"fas fa-cog"},{id:"users",label:"Utilisateurs",icon:"fas fa-users"},{id:"security",label:"S\xE9curit\xE9",icon:"fas fa-shield-alt"},{id:"email",label:"Email",icon:"fas fa-envelope"},{id:"backup",label:"Sauvegarde",icon:"fas fa-database"},{id:"data",label:"Donn\xE9es",icon:"fas fa-chart-bar"}];recentBackups=[{id:"1",date:new Date("2025-01-31T10:30:00"),size:"45.2 MB",status:"R\xE9ussie"},{id:"2",date:new Date("2025-01-30T10:30:00"),size:"44.8 MB",status:"R\xE9ussie"},{id:"3",date:new Date("2025-01-29T10:30:00"),size:"44.1 MB",status:"\xC9chou\xE9e"}];ngOnInit(){this.loadSettings()}initializeForms(){this.generalForm=this.fb.group({applicationName:["Gestion des Populations",C.required],version:["1.0.0"],maintenanceMode:[!1]}),this.usersForm=this.fb.group({maxAdmin:[5,[C.required,C.min(1)]],maxSuperviseur:[20,[C.required,C.min(1)]],maxAgent:[100,[C.required,C.min(1)]]}),this.securityForm=this.fb.group({passwordMinLength:[8,[C.required,C.min(6)]],sessionTimeout:[120,[C.required,C.min(15)]],maxLoginAttempts:[5,[C.required,C.min(3)]],requireTwoFactor:[!1]}),this.emailForm=this.fb.group({smtpHost:["smtp.gmail.com",C.required],smtpPort:[587,[C.required,C.min(1)]],username:["",C.required],fromEmail:["noreply@gestion-pop.ci",[C.required,C.email]],useSSL:[!0]}),this.backupForm=this.fb.group({enabled:[!0],frequency:["daily",C.required],retention:[7,[C.required,C.min(1)]]}),this.dataForm=this.fb.group({familiesRetention:[60,[C.required,C.min(12)]],projectsRetention:[36,[C.required,C.min(12)]],reportsRetention:[12,[C.required,C.min(6)]]})}loadSettings(){}getSectionClass(t){return this.activeSection===t?"bg-orange-100 text-orange-700 border-orange-300":"text-gray-600 hover:bg-gray-100"}getBackupStatusClass(t){let e="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";switch(t){case"R\xE9ussie":return`${e} bg-green-100 text-green-800`;case"\xC9chou\xE9e":return`${e} bg-red-100 text-red-800`;case"En cours":return`${e} bg-yellow-100 text-yellow-800`;default:return`${e} bg-gray-100 text-gray-800`}}trackBySection(t,e){return e.id}saveGeneralSettings(){this.generalForm.valid&&(console.log("Param\xE8tres g\xE9n\xE9raux sauvegard\xE9s:",this.generalForm.value),alert("Param\xE8tres g\xE9n\xE9raux sauvegard\xE9s avec succ\xE8s !"))}saveUsersSettings(){this.usersForm.valid&&(console.log("Param\xE8tres utilisateurs sauvegard\xE9s:",this.usersForm.value),alert("Param\xE8tres utilisateurs sauvegard\xE9s avec succ\xE8s !"))}saveSecuritySettings(){this.securityForm.valid&&(console.log("Param\xE8tres de s\xE9curit\xE9 sauvegard\xE9s:",this.securityForm.value),alert("Param\xE8tres de s\xE9curit\xE9 sauvegard\xE9s avec succ\xE8s !"))}saveEmailSettings(){this.emailForm.valid&&(console.log("Param\xE8tres email sauvegard\xE9s:",this.emailForm.value),alert("Param\xE8tres email sauvegard\xE9s avec succ\xE8s !"))}saveBackupSettings(){this.backupForm.valid&&(console.log("Param\xE8tres de sauvegarde sauvegard\xE9s:",this.backupForm.value),alert("Param\xE8tres de sauvegarde sauvegard\xE9s avec succ\xE8s !"))}saveDataSettings(){this.dataForm.valid&&(console.log("Param\xE8tres de donn\xE9es sauvegard\xE9s:",this.dataForm.value),alert("Param\xE8tres de donn\xE9es sauvegard\xE9s avec succ\xE8s !"))}testEmailSettings(){this.emailForm.valid&&(alert("Test de configuration email en cours..."),setTimeout(()=>{alert("Configuration email test\xE9e avec succ\xE8s !")},2e3))}createBackup(){alert("Cr\xE9ation de sauvegarde en cours..."),setTimeout(()=>{alert("Sauvegarde cr\xE9\xE9e avec succ\xE8s !"),this.recentBackups.unshift({id:Date.now().toString(),date:new Date,size:"45.5 MB",status:"R\xE9ussie"})},3e3)}cleanupOldData(){confirm("\xCAtes-vous s\xFBr de vouloir nettoyer les anciennes donn\xE9es ? Cette action est irr\xE9versible.")&&(alert("Nettoyage des anciennes donn\xE9es en cours..."),setTimeout(()=>{alert("Nettoyage termin\xE9 avec succ\xE8s !")},2e3))}static \u0275fac=function(e){return new(e||i)(b(je))};static \u0275cmp=q({type:i,selectors:[["app-parametres"]],decls:18,vars:8,consts:[[1,"container","mx-auto","p-6","max-w-6xl"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6"],[1,"lg:col-span-1"],[1,"bg-white","rounded-lg","shadow-md","p-4"],[1,"space-y-2"],["class","w-full text-left px-3 py-2 rounded-md text-sm font-medium flex items-center",3,"class","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"lg:col-span-3"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"w-full","text-left","px-3","py-2","rounded-md","text-sm","font-medium","flex","items-center",3,"click"],[1,"mr-3"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","applicationName","type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","version","type","text","readonly","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","bg-gray-50"],[1,"flex","items-center"],["formControlName","maintenanceMode","type","checkbox",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300","rounded"],[1,"ml-2","block","text-sm","text-gray-900"],[1,"mt-6"],["type","submit",1,"px-6","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700"],[1,"space-y-6"],[1,"text-md","font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["formControlName","maxAdmin","type","number","min","1",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","maxSuperviseur","type","number","min","1",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","maxAgent","type","number","min","1",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","passwordMinLength","type","number","min","6","max","20",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","sessionTimeout","type","number","min","15","max","480",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","maxLoginAttempts","type","number","min","3","max","10",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","requireTwoFactor","type","checkbox",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300","rounded"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["formControlName","smtpHost","type","text","placeholder","smtp.example.com",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","smtpPort","type","number","placeholder","587",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","username","type","text",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","fromEmail","type","email","placeholder","noreply@gestion-pop.ci",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","useSSL","type","checkbox",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300","rounded"],[1,"mt-6","space-x-3"],["type","button",1,"px-6","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700",3,"click"],["formControlName","enabled","type","checkbox",1,"h-4","w-4","text-orange-600","focus:ring-orange-500","border-gray-300","rounded"],["formControlName","frequency",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["value","daily"],["value","weekly"],["value","monthly"],["formControlName","retention","type","number","min","1","max","30",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","button",1,"px-6","py-2","bg-green-600","text-white","rounded-md","hover:bg-green-700",3,"click"],[1,"mt-8"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-blue-600","hover:text-blue-900","mr-3"],[1,"text-red-600","hover:text-red-900"],["formControlName","familiesRetention","type","number","min","12",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","projectsRetention","type","number","min","12",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["formControlName","reportsRetention","type","number","min","6",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-orange-500"],["type","button",1,"px-6","py-2","bg-red-600","text-white","rounded-md","hover:bg-red-700",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Param\xE8tres Syst\xE8me"),a(),o(4,"p",3),l(5,"Configuration g\xE9n\xE9rale de l'application"),a()(),o(6,"div",4)(7,"div",5)(8,"div",6)(9,"nav",7),Qe(10,a0,3,5,"button",8),a()()(),o(11,"div",9),R(12,s0,20,1,"div",10),R(13,l0,24,1,"div",10),R(14,d0,24,1,"div",10),R(15,u0,31,1,"div",10),R(16,m0,46,1,"div",10),R(17,p0,26,1,"div",10),a()()()),e&2&&(u(10),I("ngForOf",n.sections)("ngForTrackBy",n.trackBySection),u(2),T(n.activeSection==="general"?12:-1),u(),T(n.activeSection==="users"?13:-1),u(),T(n.activeSection==="security"?14:-1),u(),T(n.activeSection==="email"?15:-1),u(),T(n.activeSection==="backup"?16:-1),u(),T(n.activeSection==="data"?17:-1))},dependencies:[z,Ca,he,xe,Pe,Oe,me,jt,qi,_e,pe,ye,Ao,Do,Le,Ae,Ie,Ne],encapsulation:2})};var ar=class i{notificationsSubject=new Y(this.getMockNotifications());notifications$=this.notificationsSubject.asObservable();constructor(){}getAllNotifications(){return this.notifications$}getUnreadNotifications(){return new _t(t=>{this.notifications$.subscribe(e=>{t.next(e.filter(n=>!n.isRead&&!n.isArchived))})})}getUnreadCount(){return new _t(t=>{this.notifications$.subscribe(e=>{t.next(e.filter(n=>!n.isRead&&!n.isArchived).length)})})}markAsRead(t){let e=this.notificationsSubject.value,n=e.find(r=>r.id===t);return n&&(n.isRead=!0,this.notificationsSubject.next([...e])),x(!0).pipe(H(300))}markAllAsRead(){let t=this.notificationsSubject.value;return t.forEach(e=>{e.isArchived||(e.isRead=!0)}),this.notificationsSubject.next([...t]),x(!0).pipe(H(500))}archiveNotification(t){let e=this.notificationsSubject.value,n=e.find(r=>r.id===t);return n&&(n.isArchived=!0,n.isRead=!0),this.notificationsSubject.next([...e]),x(!0).pipe(H(300))}deleteNotification(t){let e=this.notificationsSubject.value,n=e.findIndex(r=>r.id===t);return n>-1&&(e.splice(n,1),this.notificationsSubject.next([...e])),x(!0).pipe(H(300))}createNotification(t){let e=k(v({},t),{id:this.generateId(),dateCreation:new Date,isRead:!1,isArchived:!1}),n=this.notificationsSubject.value;return n.unshift(e),this.notificationsSubject.next([...n]),x(e).pipe(H(300))}getNotificationsByType(t){return new _t(e=>{this.notifications$.subscribe(n=>{e.next(n.filter(r=>r.type===t&&!r.isArchived))})})}getNotificationsByPriority(t){return new _t(e=>{this.notifications$.subscribe(n=>{e.next(n.filter(r=>r.priority===t&&!r.isArchived))})})}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getMockNotifications(){return[{id:"1",type:"info",title:"Nouvelle famille enregistr\xE9e",message:"La famille Kouassi a \xE9t\xE9 enregistr\xE9e avec succ\xE8s dans le quartier Plateau.",dateCreation:new Date("2025-08-01T09:30:00"),isRead:!1,isArchived:!1,priority:"medium",source:"Syst\xE8me",actionUrl:"/familles/1"},{id:"2",type:"warning",title:"Mise \xE0 jour requise",message:"Plusieurs familles du quartier Pateau Nord n'ont pas \xE9t\xE9 mises \xE0 jour depuis 6 mois.",dateCreation:new Date("2025-08-01T08:15:00"),isRead:!1,isArchived:!1,priority:"high",source:"Syst\xE8me",actionUrl:"/familles?quartier=Pateau Nord"},{id:"3",type:"success",title:"Rapport g\xE9n\xE9r\xE9",message:"Le rapport mensuel des statistiques a \xE9t\xE9 g\xE9n\xE9r\xE9 avec succ\xE8s.",dateCreation:new Date("2025-08-01T07:00:00"),isRead:!0,isArchived:!1,priority:"low",source:"Syst\xE8me",actionUrl:"/dashboard"},{id:"4",type:"error",title:"Erreur de synchronisation",message:"La synchronisation avec la base de donn\xE9es externe a \xE9chou\xE9.",dateCreation:new Date("2025-07-31T18:45:00"),isRead:!1,isArchived:!1,priority:"high",source:"Syst\xE8me"},{id:"5",type:"info",title:"Nouveau projet cr\xE9\xE9",message:'Le projet "\xC9lectrification rurale" a \xE9t\xE9 cr\xE9\xE9 pour le quartier Pateau Centre.',dateCreation:new Date("2025-07-31T16:20:00"),isRead:!0,isArchived:!1,priority:"medium",source:"Utilisateur",actionUrl:"/projets/5"},{id:"6",type:"warning",title:"Sauvegarde manqu\xE9e",message:"La sauvegarde automatique programm\xE9e pour hier soir a \xE9chou\xE9.",dateCreation:new Date("2025-07-31T10:00:00"),isRead:!1,isArchived:!1,priority:"high",source:"Syst\xE8me",actionUrl:"/parametres#backup"},{id:"7",type:"info",title:"Utilisateur connect\xE9",message:"L'agent Marie Diallo s'est connect\xE9 au syst\xE8me.",dateCreation:new Date("2025-07-31T08:30:00"),isRead:!0,isArchived:!1,priority:"low",source:"Syst\xE8me"},{id:"8",type:"success",title:"Validation termin\xE9e",message:"15 familles ont \xE9t\xE9 valid\xE9es par le superviseur ce matin.",dateCreation:new Date("2025-07-30T11:45:00"),isRead:!0,isArchived:!1,priority:"medium",source:"Syst\xE8me",actionUrl:"/familles?statut=Valid\xE9"}]}static \u0275fac=function(e){return new(e||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};var f0=(i,t)=>t.id;function g0(i,t){i&1&&(o(0,"div",46),p(1,"div",48),o(2,"p",49),l(3,"Chargement..."),a()())}function v0(i,t){i&1&&(o(0,"div",46),_(),o(1,"svg",50),p(2,"path",30),a(),E(),o(3,"h3",51),l(4,"Aucune notification"),a(),o(5,"p",52),l(6,"Aucune notification ne correspond aux crit\xE8res s\xE9lectionn\xE9s."),a()())}function b0(i,t){i&1&&(_(),p(0,"path",58))}function y0(i,t){i&1&&(_(),p(0,"path",59))}function x0(i,t){i&1&&(_(),p(0,"path",39))}function _0(i,t){i&1&&(_(),p(0,"path",36))}function C0(i,t){i&1&&p(0,"span",63)}function S0(i,t){if(i&1&&(o(0,"a",67),l(1," Voir d\xE9tails \u2192 "),a()),i&2){let e=f().$implicit;I("routerLink",e.actionUrl)}}function w0(i,t){if(i&1){let e=P();o(0,"button",71),g("click",function(r){S(e);let s=f().$implicit;return f(2).markAsRead(s),w(r.stopPropagation())}),l(1," Marquer comme lu "),a()}}function E0(i,t){if(i&1){let e=P();o(0,"div",54),g("click",function(){let r=S(e).$implicit,s=f(2);return w(s.markAsRead(r))}),o(1,"div",55)(2,"div",56),_(),o(3,"svg",57),R(4,b0,1,0,":svg:path",58)(5,y0,1,0,":svg:path",59)(6,x0,1,0,":svg:path",39)(7,_0,1,0,":svg:path",36),a()(),E(),o(8,"div",60)(9,"div",61)(10,"h4",62),l(11),a(),o(12,"div",12)(13,"span"),l(14),a(),R(15,C0,1,0,"span",63),a()(),o(16,"p",64),l(17),a(),o(18,"div",65)(19,"div",66)(20,"span"),l(21),J(22,"date"),a(),o(23,"span"),l(24),a()(),R(25,S0,2,1,"a",67),a()(),o(26,"div",12),R(27,w0,2,0,"button",68),o(28,"button",69),g("click",function(r){let s=S(e).$implicit;return f(2).archiveNotification(s.id),w(r.stopPropagation())}),l(29," Archiver "),a(),o(30,"button",70),g("click",function(r){let s=S(e).$implicit;return f(2).deleteNotification(s.id),w(r.stopPropagation())}),l(31," Supprimer "),a()()()()}if(i&2){let e,n=t.$implicit,r=f(2);O(r.getNotificationClass(n)),u(2),O(r.getIconClass(n.type)),u(2),T((e=n.type)==="info"?4:e==="success"?5:e==="warning"?6:e==="error"?7:-1),u(7),y(n.title),u(2),O(r.getPriorityClass(n.priority)),u(),M(" ",r.getPriorityLabel(n.priority)," "),u(),T(n.isRead?-1:15),u(2),y(n.message),u(4),y(ae(22,15,n.dateCreation,"dd/MM/yyyy \xE0 HH:mm")),u(3),y(n.source),u(),T(n.actionUrl?25:-1),u(2),T(n.isRead?-1:27)}}function M0(i,t){if(i&1&&(o(0,"div",47),ee(1,E0,32,18,"div",53,f0),a()),i&2){let e=f();u(),te(e.filteredNotifications)}}var sr=class i{constructor(t){this.notificationService=t}notifications=[];filteredNotifications=[];loading=!1;selectedType="";selectedPriority="";selectedStatus="";totalNotifications=0;unreadCount=0;highPriorityCount=0;todayCount=0;ngOnInit(){this.loadNotifications()}loadNotifications(){this.loading=!0,this.notificationService.getAllNotifications().subscribe({next:t=>{this.notifications=t.filter(e=>!e.isArchived),this.updateStatistics(),this.applyFilters(),this.loading=!1},error:t=>{console.error("Erreur lors du chargement des notifications:",t),this.loading=!1}})}updateStatistics(){this.totalNotifications=this.notifications.length,this.unreadCount=this.notifications.filter(e=>!e.isRead).length,this.highPriorityCount=this.notifications.filter(e=>e.priority==="high").length;let t=new Date;t.setHours(0,0,0,0),this.todayCount=this.notifications.filter(e=>{let n=new Date(e.dateCreation);return n.setHours(0,0,0,0),n.getTime()===t.getTime()}).length}applyFilters(){this.filteredNotifications=this.notifications.filter(t=>{let e=!this.selectedType||t.type===this.selectedType,n=!this.selectedPriority||t.priority===this.selectedPriority,r=!this.selectedStatus||this.selectedStatus==="read"&&t.isRead||this.selectedStatus==="unread"&&!t.isRead;return e&&n&&r})}markAsRead(t){t.isRead||this.notificationService.markAsRead(t.id).subscribe(()=>{t.isRead=!0,this.updateStatistics()})}markAllAsRead(){this.notificationService.markAllAsRead().subscribe(()=>{this.notifications.forEach(t=>t.isRead=!0),this.updateStatistics()})}archiveNotification(t){this.notificationService.archiveNotification(t).subscribe(()=>{this.notifications=this.notifications.filter(e=>e.id!==t),this.updateStatistics(),this.applyFilters()})}deleteNotification(t){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cette notification ?")&&this.notificationService.deleteNotification(t).subscribe(()=>{this.notifications=this.notifications.filter(e=>e.id!==t),this.updateStatistics(),this.applyFilters()})}refreshNotifications(){this.loadNotifications()}getNotificationClass(t){let e="p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-150",n=t.isRead?"":"bg-blue-50 border-l-4 border-orange-500";return`${e} ${n}`}getIconClass(t){switch(t){case"info":return"bg-blue-100 text-blue-600";case"success":return"bg-green-100 text-green-600";case"warning":return"bg-yellow-100 text-yellow-600";case"error":return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}}getPriorityClass(t){let e="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium";switch(t){case"high":return`${e} bg-red-100 text-red-800`;case"medium":return`${e} bg-yellow-100 text-yellow-800`;case"low":return`${e} bg-green-100 text-green-800`;default:return`${e} bg-gray-100 text-gray-800`}}getPriorityLabel(t){switch(t){case"high":return"\xC9lev\xE9e";case"medium":return"Moyenne";case"low":return"Faible";default:return"Normal"}}static \u0275fac=function(e){return new(e||i)(b(ar))};static \u0275cmp=q({type:i,selectors:[["app-notifications"]],decls:101,vars:10,consts:[[1,"container","mx-auto","p-6","max-w-4xl"],[1,"mb-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"flex","space-x-3"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","bg-gray-500","text-white","rounded-lg","hover:bg-gray-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","inline"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"bg-white","rounded-lg","shadow-md","p-4","mb-6"],[1,"flex","flex-wrap","gap-4"],[1,"flex","items-center","space-x-2"],[1,"text-sm","font-medium","text-gray-700"],[1,"px-3","py-1","border","border-gray-300","rounded-md","text-sm","focus:outline-none","focus:ring-2","focus:ring-orange-500",3,"ngModelChange","ngModel"],["value",""],["value","info"],["value","success"],["value","warning"],["value","error"],["value","low"],["value","medium"],["value","high"],["value","unread"],["value","read"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-6"],[1,"bg-white","p-4","rounded-lg","shadow-md"],[1,"flex","items-center"],[1,"p-2","bg-blue-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-5 5v-5zM11 17H7l5 5v-5z"],[1,"ml-3"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-lg","font-semibold","text-gray-900"],[1,"p-2","bg-orange-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-2","bg-red-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.864-.833-2.464 0L4.349 15.5c-.77.833.192 2.5 1.732 2.5z"],[1,"p-2","bg-green-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-white","rounded-lg","shadow-md"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-medium","text-gray-900"],[1,"p-8","text-center"],[1,"divide-y","divide-gray-200"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-orange-600","mx-auto"],[1,"mt-2","text-gray-600"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[3,"class"],[3,"click"],[1,"flex","items-start","space-x-3"],[1,"flex-shrink-0","p-2","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1","min-w-0"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-900"],[1,"w-2","h-2","bg-orange-500","rounded-full"],[1,"mt-1","text-sm","text-gray-600"],[1,"mt-2","flex","items-center","justify-between"],[1,"flex","items-center","text-xs","text-gray-500","space-x-4"],[1,"text-orange-600","hover:text-orange-900","text-xs","font-medium",3,"routerLink"],[1,"text-blue-600","hover:text-blue-900","text-xs"],[1,"text-gray-600","hover:text-gray-900","text-xs",3,"click"],[1,"text-red-600","hover:text-red-900","text-xs",3,"click"],[1,"text-blue-600","hover:text-blue-900","text-xs",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),l(5,"Notifications"),a(),o(6,"p",4),l(7,"Centre de notifications et alertes"),a()(),o(8,"div",5)(9,"button",6),g("click",function(){return n.markAllAsRead()}),l(10," Tout marquer comme lu "),a(),o(11,"button",7),g("click",function(){return n.refreshNotifications()}),_(),o(12,"svg",8),p(13,"path",9),a(),l(14," Actualiser "),a()()()(),E(),o(15,"div",10)(16,"div",11)(17,"div",12)(18,"span",13),l(19,"Filtrer par type:"),a(),o(20,"select",14),re("ngModelChange",function(s){return ne(n.selectedType,s)||(n.selectedType=s),s}),g("ngModelChange",function(){return n.applyFilters()}),o(21,"option",15),l(22,"Tous"),a(),o(23,"option",16),l(24,"Information"),a(),o(25,"option",17),l(26,"Succ\xE8s"),a(),o(27,"option",18),l(28,"Avertissement"),a(),o(29,"option",19),l(30,"Erreur"),a()()(),o(31,"div",12)(32,"span",13),l(33,"Priorit\xE9:"),a(),o(34,"select",14),re("ngModelChange",function(s){return ne(n.selectedPriority,s)||(n.selectedPriority=s),s}),g("ngModelChange",function(){return n.applyFilters()}),o(35,"option",15),l(36,"Toutes"),a(),o(37,"option",20),l(38,"Faible"),a(),o(39,"option",21),l(40,"Moyenne"),a(),o(41,"option",22),l(42,"\xC9lev\xE9e"),a()()(),o(43,"div",12)(44,"span",13),l(45,"Statut:"),a(),o(46,"select",14),re("ngModelChange",function(s){return ne(n.selectedStatus,s)||(n.selectedStatus=s),s}),g("ngModelChange",function(){return n.applyFilters()}),o(47,"option",15),l(48,"Toutes"),a(),o(49,"option",23),l(50,"Non lues"),a(),o(51,"option",24),l(52,"Lues"),a()()()()(),o(53,"div",25)(54,"div",26)(55,"div",27)(56,"div",28),_(),o(57,"svg",29),p(58,"path",30),a()(),E(),o(59,"div",31)(60,"p",32),l(61,"Total"),a(),o(62,"p",33),l(63),a()()()(),o(64,"div",26)(65,"div",27)(66,"div",34),_(),o(67,"svg",35),p(68,"path",36),a()(),E(),o(69,"div",31)(70,"p",32),l(71,"Non lues"),a(),o(72,"p",33),l(73),a()()()(),o(74,"div",26)(75,"div",27)(76,"div",37),_(),o(77,"svg",38),p(78,"path",39),a()(),E(),o(79,"div",31)(80,"p",32),l(81,"Priorit\xE9 \xE9lev\xE9e"),a(),o(82,"p",33),l(83),a()()()(),o(84,"div",26)(85,"div",27)(86,"div",40),_(),o(87,"svg",41),p(88,"path",42),a()(),E(),o(89,"div",31)(90,"p",32),l(91,"Aujourd'hui"),a(),o(92,"p",33),l(93),a()()()()(),o(94,"div",43)(95,"div",44)(96,"h3",45),l(97),a()(),R(98,g0,4,0,"div",46)(99,v0,7,0,"div",46)(100,M0,3,0,"div",47),a()()),e&2&&(u(9),I("disabled",n.unreadCount===0),u(11),ie("ngModel",n.selectedType),u(14),ie("ngModel",n.selectedPriority),u(12),ie("ngModel",n.selectedStatus),u(17),y(n.totalNotifications),u(10),y(n.unreadCount),u(10),y(n.highPriorityCount),u(10),y(n.todayCount),u(4),M(" Notifications (",n.filteredNotifications.length,") "),u(),T(n.loading?98:n.filteredNotifications.length===0?99:100))},dependencies:[z,he,Pe,Oe,_e,pe,$e,it,ke,Ne],encapsulation:2})};var Cl=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:Kn},{path:"dashboard",component:Gi},{path:"familles",component:Xn},{path:"familles/:id",component:er},{path:"quartiers",component:tr},{path:"projets",component:ir},{path:"profil",component:rr},{path:"parametres",component:or},{path:"notifications",component:sr},{path:"statistiques",component:Gi},{path:"etiquettes",loadComponent:()=>import("./chunk-GF3ESZTI.js").then(i=>i.EtiquettesComponent)},{path:"**",redirectTo:"/login"}];var Sl={providers:[Go(),pa({eventCoalescing:!0}),mo(Cl,ho())]};var lr=class i{constructor(t){this.elementRef=t}clickOutside=new ue;onDocumentClick(t){let e=t.target;e&&!this.elementRef.nativeElement.contains(e)&&this.clickOutside.emit(t)}static \u0275fac=function(e){return new(e||i)(b(We))};static \u0275dir=B({type:i,selectors:[["","clickOutside",""]],hostBindings:function(e,n){e&1&&g("click",function(s){return n.onDocumentClick(s)},Xo)},outputs:{clickOutside:"clickOutside"}})};function D0(i,t){if(i&1){let e=P();o(0,"div",44)(1,"div",45)(2,"p",39),l(3),a(),o(4,"p",46),l(5),a()(),o(6,"a",47)(7,"div",3),_(),o(8,"svg",48),p(9,"path",49),a(),l(10," Mon profil "),a()(),E(),o(11,"a",50)(12,"div",3),_(),o(13,"svg",48),p(14,"path",51),a(),l(15," Param\xE8tres "),a()(),E(),p(16,"div",52),o(17,"button",53),g("click",function(){S(e);let r=f(2);return w(r.logout())}),o(18,"div",3),_(),o(19,"svg",48),p(20,"path",54),a(),l(21," Se d\xE9connecter "),a()()()}if(i&2){let e=f(2);u(3),ce("",e.currentUser.firstName," ",e.currentUser.lastName),u(2),y(e.currentUser.email)}}function A0(i,t){if(i&1){let e=P();o(0,"div",29)(1,"button",30),_(),o(2,"svg",31),p(3,"path",32),a(),E(),o(4,"span",33),l(5,"3"),a()(),o(6,"div",34),g("clickOutside",function(){S(e);let r=f();return w(r.closeUserMenu())}),o(7,"button",35),g("click",function(){S(e);let r=f();return w(r.toggleUserMenu())}),o(8,"div",36)(9,"span",37),l(10),a()(),o(11,"div",38)(12,"p",39),l(13),a(),o(14,"p",40),l(15),a()(),_(),o(16,"svg",41),p(17,"path",42),a()(),Qe(18,D0,22,3,"div",43),a()()}if(i&2){let e=f();u(10),ce(" ",e.currentUser.firstName.charAt(0),"",e.currentUser.lastName.charAt(0)," "),u(3),ce("",e.currentUser.firstName," ",e.currentUser.lastName),u(2),y(e.getRoleLabel(e.currentUser.role)),u(3),I("ngIf",e.showUserMenu)}}function I0(i,t){i&1&&(_(),o(0,"svg",55),p(1,"path",56),a())}function R0(i,t){i&1&&(_(),o(0,"svg",55),p(1,"path",57),a())}function T0(i,t){i&1&&(o(0,"div",58)(1,"div",59)(2,"a",60),l(3," Tableau de bord "),a(),o(4,"a",61),l(5," Familles "),a(),o(6,"a",62),l(7," Quartiers "),a(),o(8,"a",63),l(9," Projets "),a(),o(10,"a",64),l(11," Statistiques "),a(),o(12,"a",65),l(13," Notifications "),a(),o(14,"a",66),l(15," Profil "),a(),o(16,"a",67),l(17," Param\xE8tres "),a()()())}var dr=class i{constructor(t,e){this.authService=t;this.router=e}currentUser=null;showUserMenu=!1;showMobileMenu=!1;ngOnInit(){this.authService.currentUser$.subscribe(t=>{this.currentUser=t})}toggleUserMenu(){this.showUserMenu=!this.showUserMenu}closeUserMenu(){this.showUserMenu=!1}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}logout(){this.authService.logout(),this.router.navigate(["/login"])}getRoleLabel(t){return{admin:"Administrateur",agent:"Agent de terrain",consultant:"Consultant"}[t]||t}static \u0275fac=function(e){return new(e||i)(b(bt),b(K))};static \u0275cmp=q({type:i,selectors:[["app-navbar"]],decls:46,vars:4,consts:[[1,"bg-white","shadow-lg","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"flex-shrink-0","flex","items-center"],["routerLink","/dashboard",1,"flex","items-center","cursor-pointer","hover:opacity-80","transition-opacity"],[1,"w-8","h-8","bg-gradient-to-br","from-orange-500","to-red-600","rounded-lg","flex","items-center","justify-center","mr-3"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-white"],["d","M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"],[1,"hidden","lg:block"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"hidden","md:flex","items-center","space-x-8"],["routerLink","/dashboard","routerLinkActive","text-orange-600 border-orange-600",1,"border-b-2","border-transparent","hover:border-orange-300","px-1","pt-1","pb-4","text-sm","font-medium","text-gray-700","hover:text-orange-600","transition-colors"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1"],["d","M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"],["routerLink","/familles","routerLinkActive","text-orange-600 border-orange-600",1,"border-b-2","border-transparent","hover:border-orange-300","px-1","pt-1","pb-4","text-sm","font-medium","text-gray-700","hover:text-orange-600","transition-colors"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLink","/quartiers","routerLinkActive","text-orange-600 border-orange-600",1,"border-b-2","border-transparent","hover:border-orange-300","px-1","pt-1","pb-4","text-sm","font-medium","text-gray-700","hover:text-orange-600","transition-colors"],["fill-rule","evenodd","d","M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],["routerLink","/projets","routerLinkActive","text-orange-600 border-orange-600",1,"border-b-2","border-transparent","hover:border-orange-300","px-1","pt-1","pb-4","text-sm","font-medium","text-gray-700","hover:text-orange-600","transition-colors"],["fill-rule","evenodd","d","M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z","clip-rule","evenodd"],["routerLink","/statistiques","routerLinkActive","text-orange-600 border-orange-600",1,"border-b-2","border-transparent","hover:border-orange-300","px-1","pt-1","pb-4","text-sm","font-medium","text-gray-700","hover:text-orange-600","transition-colors"],["d","M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"],["class","flex items-center space-x-4",4,"ngIf"],[1,"md:hidden","flex","items-center"],[1,"p-2","rounded-md","text-gray-400","hover:text-gray-500","hover:bg-gray-100",3,"click"],["class","w-6 h-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","md:hidden border-t border-gray-200 bg-gray-50",4,"ngIf"],[1,"flex","items-center","space-x-4"],["routerLink","/notifications",1,"relative","p-2","text-gray-400","hover:text-gray-600","transition-colors"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["d","M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"],[1,"absolute","-top-1","-right-1","bg-red-500","text-white","text-xs","rounded-full","h-5","w-5","flex","items-center","justify-center"],["clickOutside","",1,"relative",3,"clickOutside"],[1,"flex","items-center","space-x-3","p-2","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],[1,"w-8","h-8","bg-gradient-to-br","from-orange-400","to-red-500","rounded-full","flex","items-center","justify-center"],[1,"text-white","text-sm","font-medium"],[1,"hidden","md:block","text-left"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500","capitalize"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-400"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],["class","absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",4,"ngIf"],[1,"absolute","right-0","mt-2","w-56","bg-white","rounded-lg","shadow-lg","border","border-gray-200","py-1","z-50"],[1,"px-4","py-3","border-b","border-gray-200"],[1,"text-sm","text-gray-500"],["routerLink","/profil",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-3"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],["routerLink","/parametres",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors"],["fill-rule","evenodd","d","M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],[1,"border-t","border-gray-200","my-1"],[1,"block","w-full","text-left","px-4","py-2","text-sm","text-red-700","hover:bg-red-50","transition-colors",3,"click"],["fill-rule","evenodd","d","M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z","clip-rule","evenodd"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"md:hidden","border-t","border-gray-200","bg-gray-50"],[1,"px-2","pt-2","pb-3","space-y-1"],["routerLink","/dashboard","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"],["routerLink","/familles","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"],["routerLink","/quartiers","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"],["routerLink","/projets","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"],["routerLink","/statistiques","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"],["routerLink","/notifications","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"],["routerLink","/profil","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"],["routerLink","/parametres","routerLinkActive","bg-orange-100 text-orange-700",1,"block","px-3","py-2","rounded-md","text-base","font-medium","text-gray-700","hover:text-gray-900","hover:bg-gray-100"]],template:function(e,n){e&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5)(6,"div",6),_(),o(7,"svg",7),p(8,"path",8),a()(),E(),o(9,"div",9)(10,"h1",10),l(11,"Gestion Populations"),a(),o(12,"p",11),l(13,"Commune du Plateau"),a()()()()(),o(14,"div",12)(15,"a",13)(16,"div",3),_(),o(17,"svg",14),p(18,"path",15),a(),l(19," Tableau de bord "),a()(),E(),o(20,"a",16)(21,"div",3),_(),o(22,"svg",14),p(23,"path",17),a(),l(24," Familles "),a()(),E(),o(25,"a",18)(26,"div",3),_(),o(27,"svg",14),p(28,"path",19),a(),l(29," Quartiers "),a()(),E(),o(30,"a",20)(31,"div",3),_(),o(32,"svg",14),p(33,"path",21),a(),l(34," Projets "),a()(),E(),o(35,"a",22)(36,"div",3),_(),o(37,"svg",14),p(38,"path",23),a(),l(39," Statistiques "),a()()(),Qe(40,A0,19,6,"div",24),E(),o(41,"div",25)(42,"button",26),g("click",function(){return n.toggleMobileMenu()}),Qe(43,I0,2,0,"svg",27)(44,R0,2,0,"svg",27),a()()()(),Qe(45,T0,18,0,"div",28),a()),e&2&&(u(40),I("ngIf",n.currentUser),u(3),I("ngIf",!n.showMobileMenu),u(),I("ngIf",n.showMobileMenu),u(),I("ngIf",n.showMobileMenu))},dependencies:[z,rn,it,ke,co,lr],encapsulation:2})};var ur=class i{currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=q({type:i,selectors:[["app-footer"]],decls:63,vars:1,consts:[[1,"bg-white","border-t","border-gray-200","mt-auto"],[1,"max-w-7xl","mx-auto","py-6","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-8"],[1,"col-span-1","md:col-span-2"],[1,"flex","items-center","mb-4"],[1,"w-8","h-8","bg-gradient-to-br","from-orange-500","to-red-600","rounded-lg","flex","items-center","justify-center","mr-3"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-white"],["d","M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"text-gray-600","text-sm"],[1,"text-sm","font-semibold","text-gray-900","uppercase","tracking-wider","mb-4"],[1,"space-y-2"],["href","#",1,"text-gray-600","hover:text-orange-600","text-sm","transition-colors"],[1,"flex","items-center","text-sm","text-gray-600"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-2"],["fill-rule","evenodd","d","M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],["d","M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"],["d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"],["d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"],[1,"mt-8","pt-6","border-t","border-gray-200"],[1,"flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-sm","text-gray-500"],[1,"mt-4","md:mt-0","flex","space-x-6"],["href","#",1,"text-gray-400","hover:text-orange-500","transition-colors"],[1,"sr-only"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],["fill-rule","evenodd","d","M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z","clip-rule","evenodd"]],template:function(e,n){e&1&&(W(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_(),W(6,"svg",6),Et(7,"path",7),Q()(),E(),W(8,"div")(9,"h3",8),l(10,"Gestion Populations"),Q(),W(11,"p",9),l(12,"Commune du Plateau"),Q()()(),W(13,"p",10),l(14," Syst\xE8me de gestion des populations de la commune du Plateau en C\xF4te d'Ivoire. Recensement, statistiques et gestion des projets municipaux. "),Q()(),W(15,"div")(16,"h4",11),l(17," Liens rapides "),Q(),W(18,"ul",12)(19,"li")(20,"a",13),l(21," Tableau de bord "),Q()(),W(22,"li")(23,"a",13),l(24," Familles "),Q()(),W(25,"li")(26,"a",13),l(27," Quartiers "),Q()(),W(28,"li")(29,"a",13),l(30," Projets "),Q()()()(),W(31,"div")(32,"h4",11),l(33," Contact "),Q(),W(34,"div",12)(35,"div",14),_(),W(36,"svg",15),Et(37,"path",16),Q(),l(38," Abidjan, Plateau "),Q(),E(),W(39,"div",14),_(),W(40,"svg",15),Et(41,"path",17),Q(),l(42," +225 22 22 22 22 "),Q(),E(),W(43,"div",14),_(),W(44,"svg",15),Et(45,"path",18)(46,"path",19),Q(),l(47," contact@plateau.ci "),Q()()()(),E(),W(48,"div",20)(49,"div",21)(50,"p",22),l(51),Q(),W(52,"div",23)(53,"a",24)(54,"span",25),l(55,"Politique de confidentialit\xE9"),Q(),_(),W(56,"svg",26),Et(57,"path",27),Q()(),E(),W(58,"a",24)(59,"span",25),l(60,"Conditions d'utilisation"),Q(),_(),W(61,"svg",26),Et(62,"path",28),Q()()()()()()()),e&2&&(u(51),M(" \xA9 ",n.currentYear," Mairie du Plateau. Tous droits r\xE9serv\xE9s. "))},dependencies:[z],encapsulation:2})};function F0(i,t){i&1&&p(0,"app-navbar")}function N0(i,t){i&1&&p(0,"app-footer")}var cr=class i{constructor(t,e){this.authService=t;this.router=e}title="gestion-populations";isAuthenticated=!1;isLoginPage=!1;ngOnInit(){this.authService.isAuthenticated$.subscribe(t=>{this.isAuthenticated=t,t&&this.router.url==="/login"&&this.router.navigate(["/dashboard"]),!t&&this.router.url!=="/login"&&this.router.navigate(["/login"])}),this.router.events.pipe(He(t=>t instanceof ve)).subscribe(t=>{this.isLoginPage=t.url==="/login"||t.url==="/"})}static \u0275fac=function(e){return new(e||i)(b(bt),b(K))};static \u0275cmp=q({type:i,selectors:[["app-root"]],decls:5,vars:4,consts:[[1,"min-h-screen","bg-gray-50","flex","flex-col"],[4,"ngIf"]],template:function(e,n){e&1&&(o(0,"div",0),Qe(1,F0,1,0,"app-navbar",1),o(2,"main"),p(3,"router-outlet"),a(),Qe(4,N0,1,0,"app-footer",1),a()),e&2&&(u(),I("ngIf",n.isAuthenticated&&!n.isLoginPage),u(),O(n.isAuthenticated&&!n.isLoginPage?"flex-1":"min-h-screen"),u(2),I("ngIf",n.isAuthenticated&&!n.isLoginPage))},dependencies:[z,rn,Fi,dr,ur],encapsulation:2})};Pr(cr,Sl).catch(i=>console.error(i));
